{"version":3,"sources":["woo-feed-admin-pro.js"],"names":["$","window","document","wf","opts","on","__idx__","woo_feed_dynamic_attr_condition_between","input","elem","closest","find","val","attr","e","concat","this","trim","is_variations","show","hide","selectize","titleEl","title","split","filter","x","join","clear","refreshOptions","srt","append","text","replace","preventDefault","self","parseInt","data","test","target","template","helper","alert","form","clone","end","insertAfter","prop","change","parent","length","sortable","fancySelect","maxItemShow","one","filterData","action","wpf_ajax_obj","ajax","nonce","method","success","message","backorder","singularOrPluralText","outOfStock","after","hidden","noDesc","noImg","noPrice","ready","jQuery","attribute_value","each","value","inArray","key","currency","eq","getElementById","editor","CodeMirror","lineNumbers","fromTextArea","el","matchBrackets","setSize"],"mappings":"AAAA,aAQA,CAAA,SAAAA,EAAAC,EAAAC,EAAAC,EAAAC,G,EAICH,CAAAA,EAAAI,GAAA,OAAA,W,IAEAL,EAAUK,E,EACTL,EAAA,uBAAIM,E,SAqEJC,EAAAA,G,IAECC,EAAIA,EAAKC,QAAGA,IAAKC,EAAAA,KAAQC,wCAAMA,EAC/B,YAAIF,EAASA,IAAKA,EAAKG,EAAIJ,KAAGA,cAAMK,WAAK,EAE1CL,EAAAK,KAAA,cAAA,EAAA,C,GAxEAb,CAAEE,EADKF,GAAEK,SAAA,qBAAwB,SAAAS,G,4BAG9B,EAAAF,IADFA,IAAAG,OAAAA,EAAAC,IAAA,EAAAJ,IAAAA,EAAAK,KAAAA,EAAA,GAAA,CAAA,C,GAEAZ,GAAEA,SADA,iBAA0B,SAAEO,G,IAE9BM,EADelB,EAAAgB,IAAA,EAAAJ,IAAAA,EAEf,SADIM,GAAkB,MAAUA,E,sBAChC,EAAAC,KAAeD,E,sBAEf,EAAAE,KAAOA,C,GAGPf,GAAEA,SADF,cAAA,W,IAGAgB,EADArB,EAAAgB,IAAA,EAAA,GAAAK,U,EAECC,EADGD,8BAAAA,E,EAEHE,EADAD,IAAYV,EAAAA,KAAAK,EAAAA,MAAAO,GAAA,E,EAEbD,KADCA,EAAKP,IAAGM,EAAAA,IAAAA,CAAAA,E,EAGTA,IADAV,EAAAW,OAAAE,SAAAC,G,MAAA,KAAAA,C,GAAAC,KAAAA,GAAA,CAAA,E,EAEAN,MADOO,CAAAA,CAAKL,E,EAEZF,eAF0BQ,CAAAA,CAAY,C,GAGtCxB,GAAEA,QAH2C,sBAAK,WAIlD,IAHAgB,E,EAICf,EAHDe,KAAUQ,IAAAA,EAAAA,O,CAKTvB,G,EAGDwB,OAAIC,EAHHzB,0BAAO,EAAA0B,KAAEA,EAAAf,KAAAA,EAAAgB,QAAAA,WAAA3B,CAAAA,CAAAA,C,GAIVD,GAAEA,QAHF,cAAA,SAAAS,G,iBAIEoB,E,IAEFC,EAFED,EAAAA,IAAAA,E,EAGD5B,SADO8B,EAASD,KAACE,KAAA,GAAA,CAAA,EAAA,E,GACjB/B,KAAOgC,KAAGF,EAAQD,KAAKE,UAAK,CAAA,EAAWF,EAAEA,KAAIE,UAAA,EAAArC,EAAAmC,EAAAA,KAAAE,UAAA,CAAA,EAAAL,KAAAA,GAAAf,KAAAA,EAE7CsB,EADAC,EAAAA,KAAYH,QAAKC,CAAAA,EAGlBC,OAAAA,EAAOR,KAAOS,EAASvB,QAAIgB,WAAGA,CAAQ3B,CAAAA,E,EACtCH,OAAAA,UAAGsC,E,EACHN,KAAAA,MAAKE,CAAK/B,C,GACVD,GAAAA,SAAK,0BAAU,SAAyBS,G,GACxC,CAAAd,EAAAgB,IAAI,EAAAL,KAAGA,kBAAMA,EAAAA,O,aACZ+B,EAAAA,KAAMtC,iBAAKuC,EACX,CAAA,C,GAEDtC,GAAAA,QAAK,gBAAS,W,yCAEZ,EAAAc,KAAAA,EAAyCA,MAAIyB,EAAGA,KAAKjC,OAAGA,EAAAA,IAAKC,EAASA,EAAAA,IAAIiC,EAAIA,KAAGlC,QAAGA,EAAAA,IAAKC,EAAUA,EAAAA,IAAIiC,EAAIA,YAAGC,sCAAGA,E,gBACjH,EAAAC,KAAAA,WAAgBA,CAAAA,CAAK,E,2BACrB,EAAAA,KAAAA,QAA2BA,IAAK,E,gBAChC,EAAA3B,KAAAA,C,GACFf,GAAAA,QAAK,aAAS,W,2BAEZ,EAAAc,KAAAA,EAA2BA,MAAIyB,EAAGA,KAAKjC,OAAGA,EAAAA,IAAKC,EAASA,EAAAA,IAAIiC,EAAIA,YAAGC,wBAAGA,E,gBACtE,EAAAC,KAAAA,WAAgBA,CAAAA,CAAK,E,gBACrB,EAAA3B,KAAAA,E,2EACA,EAAA4B,OAAAA,W,EACDzC,EAAAA,IAAAA,CAAAA,C,KAEDF,GAAAA,eAAK,mBAAgB,W,IAGrBO,EAAIA,EAAAA,IAAG,EAAAA,IAAKA,E,EACXqC,EAAAA,IAAM,EAAApC,KAAKA,aAAMA,E,sBAEhBoC,CAAmBA,EAAAA,IAAGA,CAAQrC,C,8CAcAsC,EAAMF,OAAM,W,EAF3ChD,EAAAgB,IAAA,CAAA,C,GAGmB,EAApBb,EAAE,yBAAkB,EAAA+C,Q,EAItBT,OAAAU,SAAA,C,MAGKV,EAAMpC,GAAC+C,kBAAc,W,SAKzBC,YAAArD,EAAA,uCAAA,EAAA,C,YACCsD,CAHD,CAAC,C,OAIA,QAGCC,qCAAA,SAAAzC,G,IACD0C,EAAA,C,OAAA,wB,MADCC,aAAAC,KAAAC,K,SAGAC,C,OAICH,M,IAFDpB,aAGEkB,a,KAFFM,E,QAICC,SAAAC,G,QACAC,KAAAA,Y,EAFG,IAAAF,EAAAzB,KAAA0B,UAGsCE,aAAmBC,e,kDAF5D,EAAAvD,KAAA,OAAA,EAAAuD,MAAA,iGAAAJ,EAAAzB,KAAA0B,UAAA,IAAAC,EAAA,sBAAA,G,EAKAA,KAAAA,a,EAC+C,IAH5CF,EAAAzB,KAAA4B,WAG4CtD,aAASuD,e,kDAFxD,EAAAvD,KAAA,OAAA,EAAAuD,MAAA,iGAAAJ,EAAAzB,KAAA4B,WAAA,IAAAD,EAAA,sBAAA,G,EAKAA,KAAAA,S,EAFG,IAAAF,EAAAzB,KAAA8B,OAG4C,aAAS,e,kDAFxD,EAAAxD,KAAA,OAAA,EAAAuD,MAAA,iGAAAJ,EAAAzB,KAAA8B,OAAA,IAAAH,EAAA,gBAAA,G,EAKAA,KAAAA,S,EAFG,IAAAF,EAAAzB,KAAA+B,OAG2C,cAASF,e,kDAFvD,EAAAvD,KAAA,OAAA,EAAAuD,MAAA,iGAAAJ,EAAAzB,KAAA+B,OAAA,IAAAJ,EAAA,wBAAA,G,EAKAA,KAAAA,Q,EAFG,IAAAF,EAAAzB,KAAAgC,MAAA,cAGsD,gB,kDAFzD,EAAA1D,KAAA,OAAA,EAAAuD,MAAA,iGAAAJ,EAAAzB,KAAAgC,MAAA,IAAAL,EAAA,kBAAA,G,EAKDA,KAAAA,U,EACC,IAAAF,EAAAzB,KAAAiC,QAAA,cAAAJ,gB,kDACD,EAAAvD,KAAA,OAAA,EAAAuD,MAAA,iGAAAJ,EAAAzB,KAAAiC,QAAA,IAAAN,EAAA,kBAAA,E,CAAF,CAAC,C,CAEFhE,E,GAEO,EAAAuE,MAAA,W,IA6BLC,EA5BA,EAKuBC,EAAAA,eACpBzE,EAAAA,Q,iBAOH,EAAAK,GAAA,SAXG,W,0BAQF,EAAAqE,KAAA,SAAA9D,EAAA+D,G,MAECF,EAAAA,eAAoBE,EAAA/D,IAAQA,E,EAC9BgE,EAAAA,CAAAH,EAAAA,IAAAA,E,KACDzE,EAAA4E,QAAAH,EAAArC,CAAAA,QAAAyC,gBAAAC,aAAA,iBAAA,yBAAA,sBAAA,G,yBAPG,EAAAC,GAAA3C,SAAAyC,CAAA,CAAA,EAAAjE,IAAA,IAAAkE,CAAA,C,GAMF,EAYAE,EAADhF,EAAA,SAACE,EAAAA,SAGAsE,EAAMS,EAAQC,eAAY/E,QAAasD,EATtC0B,WAAiBC,aAAAC,EAAA,C,YACX,CAAA,E,KACNC,M,cACC,CAAA,C,GAEHC,QAAA,KAAA,GAAA,EAID,CAAA","file":"woo-feed-admin-pro.min.js","sourcesContent":["\"use strict\"; // noinspection JSUnresolvedVariable\n\n/**!\n * WooFeed Pro Scripts\n * @version 1.0.0\n * @package WooFeed\n * @copyright 2020 WebAppick\n *\n */\n\n(function ($, window, document, wf, wpAjax, opts) {\n\t\"use strict\";\n\t/* global ajaxurl, wpAjax, postboxes, pagenow, alert, deleteUserSetting, typenow, adminpage, thousandsSeparator, decimalPoint, isRtl */\n\n\t$(window).on('load', function () {\n\t\tvar __idx__ = 0,\n\t\t\tsrt = $('#wf_str_replace tbody');\n\t\t$(document).on('change', \"#custom2_attribute\", function (e) {\n\t\t\t// Custom 2 template attribute name\n\t\t\t$(\"#custom2_attribute_value\").val(`{${$(this).val().trim()}}`); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html\n\t\t}).on('change', '#is_variations', function (e) {\n\t\t\tlet is_variations = $(this).val();\n\t\t\tif ('both' === is_variations || 'n' === is_variations) {\n\t\t\t\t$(\".WFVariablePriceTR\").show();\n\t\t\t} else {\n\t\t\t\t$(\".WFVariablePriceTR\").hide();\n\t\t\t}\n\t\t}).on('change', '#wpf_ptitle', function () {\n\t\t\t// Variation Product Title\n\t\t\tlet selectize = $(this)[0].selectize,\n\t\t\t\ttitleEl = $(\"textarea[name='ptitle_show']\"),\n\t\t\t\ttitle = titleEl.val().trim().split('|');\n\t\t\ttitle.push($(this).val());\n\t\t\t// Show Title\n\t\t\ttitleEl.val(title.filter(x => '' !== x).join('|'));\n\t\t\tselectize.clear(true); // reset the select value silently.\n\t\t\tselectize.refreshOptions(false); // reset selectize scroll position silently.\n\t\t}).on('click', '#wf_new_str_replace', function () {\n\t\t\tif (0 === __idx__) {\n\t\t\t\t__idx__ = srt.find('tr').length;\n\t\t\t} else {\n\t\t\t\t__idx__++;\n\t\t\t}\n\n\t\t\tsrt.append($('#wf_str_replace_template').text().trim().replace(/__idx__/g, __idx__));\n\t\t}).on('click', '.wf-add-row', function (e) {\n\t\t\te.preventDefault();\n\n\t\t\tvar self = $(this),\n\t\t\t\t__idx__ = parseInt(self.data('idx') || 0) + 1,\n\t\t\t\ttemplate = (/^</.test(self.data('template')) ? self.data('template') : $(self.data('template')).text()).trim(),\n\t\t\t\ttarget = $(self.data('target'));\n\n\t\t\ttarget.append(template.trim().replace(/__idx__/g, __idx__));\n\t\t\twf.helper.selectize();\n\t\t\tself.data('idx', __idx__);\n\t\t}).on('submit', '#attribute-mapping-form', function (e) {\n\t\t\tif (!$(this).find('[name^=\"value[\"]').length) {\n\t\t\t\talert(opts.form.one_item_required);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}).on('click', '#wf_newFilter', function () {\n\t\t\t// Add New Condition for Filter\n\t\t\t$('#table-advanced-filter tbody tr:eq(0)').show().clone().find('input').val('').end().find('select').val('').end().insertAfter('#table-advanced-filter tbody tr:last');\n\t\t\t$('.fsrow:gt(2)').prop('disabled', false);\n\t\t\t$('.wf_concat_advance:last').prop('value', 'OR');\n\t\t\t$('.daRow:eq(0)').hide();\n\t\t}).on('click', '#wf_newCon', function () {\n\t\t\t// Dynamic Attribute Add New Condition\n\t\t\t$('#table-1 tbody tr:first').show().clone().find('input').val('').end().insertAfter('#table-1 tbody tr:last');\n\t\t\t$('.fsrow:gt(7)').prop('disabled', false);\n\t\t\t$('.daRow:eq(0)').hide();\n\t\t\t$('#table-1 tbody tr:last td select.woo_feed_dynamic_attr_condition_select').change(function () {\n\t\t\t\twoo_feed_dynamic_attr_condition_between($(this));\n\t\t\t});\n\t\t}).on('change keyup', '.treegrid-parent', function () {\n\t\t\t// Category Mapping (Auto Field Populate)\n\t\t\t// noinspection ES6ConvertVarToLetConst\n\t\t\tvar val = $(this).val(),\n\t\t\t\tparent = $(this).attr('data-cat_id'); // noinspection ES6ConvertVarToLetConst\n\n\t\t\t$(\".treegrid-parent-\" + parent).val(val);\n\t\t}); // placeholder for Between Dynamic Attribute condition\n\n\t\tfunction woo_feed_dynamic_attr_condition_between(elem) {\n\t\t\t// noinspection ES6ConvertVarToLetConst\n\t\t\tvar input = elem.closest('tr').find('.woo_feed_dynamic_attr_condition_value');\n\t\t\tif ('between' === elem.val()) input.attr('placeholder', 'Ex: 10,20');\n\t\t\telse input.attr('placeholder', '');\n\t\t}\n\n\t\t$('.woo_feed_dynamic_attr_condition_select').change(function () {\n\t\t\twoo_feed_dynamic_attr_condition_between($(this));\n\t\t});\n\n\t\tif ($('#attribute-mapping-form').length > 0) {\n\t\t\twf.helper.sortable();\n\t\t}\n\t});\n\n\t// Document events\n\t$(document)\n\t\t.on('feedEditor.init', function () {\n\t\t\twf.helper.fancySelect($('#wf_product_post_status, .filter_mode'), {\n\t\t\t\tmaxItemShow: 2\n\t\t\t});\n\t\t})\n\n\t\t// filter tab functionality\n\t\t.one('click', 'label[for=\"wf-tab-content-filter\"]', function (e) {\n\t\t\tvar filterData = {\n\t\t\t\taction: 'woo_feed_filter_count', //callback function\n\t\t\t\tnonce: wpf_ajax_obj.ajax.nonce,\n\t\t\t};\n\t\t\t// AJAX call\n\t\t\t$.ajax({\n\t\t\t\tmethod: \"GET\",\n\t\t\t\turl: wpf_ajax_obj.wpf_ajax_url,\n\t\t\t\tdata: filterData,\n\t\t\t\tsuccess: function (message) {\n\t\t\t\t\tif (message.data.backorder) {\n\t\t\t\t\t\tvar singularOrPluralText = message.data.backorder === 1 ? 'product is' : 'products are';\n\t\t\t\t\t\t$('#wf-tab-content-filter table tr:nth-of-type(1)').find('.help').after('<div class=\"counter\"><span class=\"dashicons dashicons-info-outline\" aria-hidden=\"true\"></span>' + message.data.backorder + ' ' + singularOrPluralText + ' on backorder.</div>');\n\t\t\t\t\t}\n\t\t\t\t\tif (message.data.outOfStock) {\n\t\t\t\t\t\tvar singularOrPluralText = message.data.outOfStock === 1 ? 'product is' : 'products are';\n\t\t\t\t\t\t$('#wf-tab-content-filter table tr:nth-of-type(2)').find('.help').after('<div class=\"counter\"><span class=\"dashicons dashicons-info-outline\" aria-hidden=\"true\"></span>' + message.data.outOfStock + ' ' + singularOrPluralText + ' out of stock.</div>');\n\t\t\t\t\t}\n\t\t\t\t\tif (message.data.hidden) {\n\t\t\t\t\t\tvar singularOrPluralText = message.data.hidden === 1 ? 'product is' : 'products are';\n\t\t\t\t\t\t$('#wf-tab-content-filter table tr:nth-of-type(3)').find('.help').after('<div class=\"counter\"><span class=\"dashicons dashicons-info-outline\" aria-hidden=\"true\"></span>' + message.data.hidden + ' ' + singularOrPluralText + ' hidden.</div>');\n\t\t\t\t\t}\n\t\t\t\t\tif (message.data.noDesc) {\n\t\t\t\t\t\tvar singularOrPluralText = message.data.noDesc === 1 ? 'product has' : 'products are';\n\t\t\t\t\t\t$('#wf-tab-content-filter table tr:nth-of-type(4)').find('.help').after('<div class=\"counter\"><span class=\"dashicons dashicons-info-outline\" aria-hidden=\"true\"></span>' + message.data.noDesc + ' ' + singularOrPluralText + ' no description.</div>');\n\t\t\t\t\t}\n\t\t\t\t\tif (message.data.noImg) {\n\t\t\t\t\t\tvar singularOrPluralText = message.data.noImg === 1 ? 'product has' : 'products have';\n\t\t\t\t\t\t$('#wf-tab-content-filter table tr:nth-of-type(5)').find('.help').after('<div class=\"counter\"><span class=\"dashicons dashicons-info-outline\" aria-hidden=\"true\"></span>' + message.data.noImg + ' ' + singularOrPluralText + ' no image.</div>');\n\t\t\t\t\t}\n\t\t\t\t\tif (message.data.noPrice) {\n\t\t\t\t\t\tvar singularOrPluralText = message.data.noPrice === 1 ? 'product has' : 'products have';\n\t\t\t\t\t\t$('#wf-tab-content-filter table tr:nth-of-type(6)').find('.help').after('<div class=\"counter\"><span class=\"dashicons dashicons-info-outline\" aria-hidden=\"true\"></span>' + message.data.noPrice + ' ' + singularOrPluralText + ' no price.</div>');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t$(document).ready(function () {\n\n\t\tif ($('#feedCurrency').length > 0) {\n\t\t\tfunction multicurrency_update() {\n\n\t\t\t\t$('.wf_attr.wf_attributes').each(function (key, value) {\n\t\t\t\t\tvar currency = $('#feedCurrency').val();\n\t\t\t\t\tvar attribute_value = $(value).val();\n\t\t\t\t\tif (-1 !== $.inArray(attribute_value, ['price', 'current_price', 'sale_price', 'price_with_tax', 'current_price_with_tax', 'sale_price_with_tax'])) {\n\t\t\t\t\t\t$('input[name^=\"suffix\"]').eq(parseInt(key)).val(' ' + currency);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t$('#feedCurrency').on('change', multicurrency_update);\n\t\t\t//$(document).on( 'feedEditor.after.free.postfix.update', multicurrency_update );\n\t\t}\n\n\t\tif ($('#editor').length > 0) {\n\t\t\tlet el = document.getElementById(\"editor\");\n\t\t\tconst editor = CodeMirror.fromTextArea(el, {\n\t\t\t\tlineNumbers: true,\n\t\t\t\tmode: \"xml\",\n\t\t\t\tmatchBrackets: true\n\t\t\t});\n\t\t\teditor.setSize(null, 620);\n\t\t}\n\t});\n\n\n})(jQuery, window, document, wf, wp.ajax, wpf_ajax_obj);\n"]}