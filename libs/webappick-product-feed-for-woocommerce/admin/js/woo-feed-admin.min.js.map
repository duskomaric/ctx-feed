{"version":3,"sources":["woo-feed-admin.js"],"names":["_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","i","disabled","protoProps","staticProps","prototype","prop","fn","_toPrimitive","each","_typeof","String","t","r","isDisabled","status","e","Number","call","self","clearTooltip","$","this","extend","WooFeedCustomFields","isTaxonomy","productCustomFields","field","method","url","_createClass","event","currentTarget","arguments","length","index","className","nonce","removeAttr","elem","msg","_default","_args","ClipboardJS","current_page_query","window","search","navigator","userAgent","params","_current_batch","on","document","isRegenerating","preventDefault","_current_btn_label","action","hide","wpf_ajax_obj","wpf_ajax_url","success","_this","data","condition","wooFeed_get_google_categories","wpAjax","then","ajax","response","labelField","item","undefined","concat","wooFeed_get_facebook_categories","type","placeholder","closest","find","escape","WooFeedMapCategories","send","remove","_ajax_nonce","opts","clipboard","googleCategories","facebookCategories","helper","in_array","text","selectize_render_item","ajax_fail","fail","sortable","$copyBtn","selectize","onDrop","$item","numb","container","hasOwnProperty","config","el","haystack","indexOf","needle","fancySelect","reindex_config_table","removeClass","warn","x1","error","statusText","column","_onDrop","hooks","create","trim","wf_sortable","column_count","_super","group","options","draggedClass","bodyClass","attr","not","plugins","split","map","s","setLocalStorage","addToParent","parentName","wp","prevData","localStorage","dataName","shouldStringify","x","replace","addAction","tempData","hasDeleted","getItem","parse","setItem","JSON","stringify","innerChildren","renderMerchantInfo","_loop2","feedEditor","types","child","toLowerCase","filter","removeItem","feedType","init","renderMerchantTemplate","_loop","common","trigger","feedForm","html","form","merchantInfo","k","na","merchantInfoCache","merchantTemplateCache","opt","val","tooltip","hover","parent","_limit","showTooltip","contentSettings","is","_color","_updateProgressStatus","URLSearchParams","_current_btn","hasClass","_total_batch","_product_ids","_progress_per_batch","_regenerate","_all_btn","_log","feedGenerator","_feed","generate","location","addClass","_this2","_block_button","_resetProgressBar","_progressBarActive","message","_progress","_process_batch","setTimeout","_unblock_button","post","feed","_stopProgressBar","loop","product","products","_save_feed_file","wpf_debug","console","_toggleProgressBar","_timer","setInterval","_updateProgressBar","refreshInterval","_refresh","href","pages","list","cat","clearInterval","log","progress_message","update","percentage","table","generator","show","clip","postboxes","css","attr_name","wf","Math","round","loader","add_postbox_toggles","match","pagenow","regenerate","title","appendTo","fadeIn","pageY","validate","tbody","join","template","notificationLoader","slideToggle","_loop4","_ajax_clean_nonce","cache_types","button","status_area","select","id","reload","price_attributes","outputSelect","fancyOption","execCommand","selectKey","fancyDataPicker","current_attribute_value","selectIf","currency","parents","append","includes","feedCurrency","woocommerce","confirm","del_confirm_multi","server","valid","save","sftp_checking","sftp_available","sftp_warning","provider","valueColumn","itemWrapper","row","attribute","google_category","learn_more","wf_csv_txt","select_category","load","query","cb","ready","name","windowpos","createObjectURL","download","cat_init","item_wrapper_hidden","catField","googleMap","setValue","groupId","cat_mapping_action","catId","scroll","providerName","Blob","attribute_list","searchParams","for_attr","prepend","current_Value","attribute_value","importFileExtension","fakePath","feed_rules","queryString","get","parseInt","current_feed_currency","price","sale_price","getElementById","editor","CodeMirror","fromTextArea","lineNumbers","weight","dimension","matchBrackets","cObj","jQuery"],"mappings":"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","file":"woo-feed-admin.min.js","sourcesContent":["// noinspection JSUnresolvedletiable\n/**!\n * WooFeed Scripts\n * @version 3.3.6\n * @package WooFeed\n * @copyright 2020 WebAppick\n *\n */\n/* global ajaxurl, wpAjax, postboxes, pagenow, alert, deleteUserSetting, typenow, adminpage, thousandsSeparator, decimalPoint, isRtl */\n// noinspection JSUnresolvedVariable\n\n(function ($, window, document, wpAjax, opts) {\n\t\"use strict\";\n\t/**\n\t * All of the code for your admin-facing JavaScript source\n\t * should reside in this file.\n\t *\n\t * Note: It has been assumed you will write jQuery code here, so the\n\t * $ function reference has been prepared for usage within the scope\n\t * of this function.\n\t *\n\t * This enables you to define handlers, for when the DOM is ready:\n\t */\n\n\t/**\n\t * disable element utility\n\t *\n\t * @since 3.1.9\n\t *\n\t * @param {*} status\n\t * @returns {$|HTMLElement}\n\t */\n\t$.fn.disabled = function (status) {\n\t\t$(this).each(function () {\n\t\t\tlet self = $(this),\n\t\t\t\tprop = 'disabled';\n\n\t\t\tif (typeof self.prop(prop) !== 'undefined') {\n\t\t\t\tself.prop(prop, status === void 0 || status === true);\n\t\t\t} else {\n\t\t\t\t!0 === status ? self.addClass(prop) : self.removeClass(prop);\n\t\t\t}\n\t\t});\n\t\treturn self; // method chaining\n\t};\n\n\t/**\n\t * Check if a HTMLElement or jQuery is disabled\n\t */\n\t$.fn.isDisabled = function () {\n\t\tlet self = $(this),\n\t\t\tprop = 'disabled';\n\t\treturn typeof self.prop(prop) !== 'undefined' ? self.prop(prop) : self.hasClass(prop);\n\t};\n\n\t/**\n\t * Clear Tooltip for clip board js\n\t * @param {Object} event\n\t */\n\tconst clearTooltip = (event) => {\n\t\t$(event.currentTarget).removeClass((index, className) => (className.match(/\\btooltipped-\\S+/g) || []).join(' ')).removeClass('tooltipped').removeAttr('aria-label');\n\t};\n\n\tconst showTooltip = (elem, msg) => {\n\t\t$(elem).addClass('tooltipped tooltipped-s').attr('aria-label', msg);\n\t};\n\n\tconst fallbackMessage = (action) => {\n\t\tlet actionMsg,\n\t\t\tactionKey = action === 'cut' ? 'X' : 'C';\n\n\t\tif (/iPhone|iPad/i.test(navigator.userAgent)) {\n\t\t\tactionMsg = 'No support :(';\n\t\t} else if (/Mac/i.test(navigator.userAgent)) {\n\t\t\tactionMsg = 'Press âŒ˜-' + actionKey + ' to ' + action;\n\t\t} else {\n\t\t\tactionMsg = 'Press Ctrl-' + actionKey + ' to ' + action;\n\t\t}\n\n\t\treturn actionMsg;\n\t};\n\n\t/**\n\t * Alias of jQuery.extend()\n\t * @param {Object} _default\n\t * @param {Object} _args\n\t */\n\tconst extend = (_default, _args) => $.extend(true, {}, _default, _args);\n\n\t/*\n\t* Handles product attributes\n\t*\n\t* @since 4.4.18\n\t* */\n\tclass WooFeedCustomFields {\n\n\t\tconstructor(field, status, isTaxonomy) {\n\t\t\tthis.productCustomFields(field, status, isTaxonomy);\n\t\t}\n\n\t\tcacheClear() {\n\t\t\tlet data = {\n\t\t\t\taction: 'woo_feed_product_attribute_cache_remove',\n\t\t\t\tnonce: wpf_ajax_obj.ajax.nonce,\n\t\t\t};\n\t\t\t$.ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: wpf_ajax_obj.wpf_ajax_url,\n\t\t\t\tdata\n\t\t\t});\n\t\t}\n\n\t\tproductCustomFields(field, status = false, isTaxonomy) {\n\t\t\tlet data = {\n\t\t\t\taction: 'woo_feed_custom_fields_status_change',\n\t\t\t\tnonce: wpf_ajax_obj.ajax.nonce,\n\t\t\t\tfield,\n\t\t\t\tstatus,\n\t\t\t\tisTaxonomy\n\t\t\t};\n\t\t\t$.ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: wpf_ajax_obj.wpf_ajax_url,\n\t\t\t\tdata,\n\t\t\t\tsuccess: (response) => {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tthis.cacheClear();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t}\n\t\t\t\t\t$('#' + field + '-switcher').closest('td').find('.switch-loader').hide();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/*\n\t* Handles product categories\n\t*\n\t* @since 4.4.39\n\t* */\n\tclass WooFeedMapCategories {\n\t\twooFeed_get_google_categories() {\n\t\t\twpAjax.send('get_google_categories', {\n\t\t\t\ttype: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\taction: \"get_google_categories\",\n\t\t\t\t\t// provider: provider\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\t$('.selectize-google-category').selectize({\n\t\t\t\t\tvalueField: 'value',\n\t\t\t\t\tlabelField: 'text',\n\t\t\t\t\tplaceholder: 'Select a category',\n\t\t\t\t\tsearchField: ['value', 'text'],\n\t\t\t\t\toptions: response,\n\t\t\t\t\trender: {\n\t\t\t\t\t\toption: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.value + ' - ' + data.text)}</div>`,\n\t\t\t\t\t\titem: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.value + ' - ' + data.text)}</div>`\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//remove spinner element\n\t\t\t\t$('.woo-feed-cat-map-spinner').remove();\n\t\t\t}).fail(helper.ajax_fail);\n\t\t}\n\n\t\twooFeed_get_facebook_categories() {\n\t\t\t// get facebook categories\n\t\t\twpAjax.send('get_facebook_categories', {\n\t\t\t\ttype: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\taction: \"get_facebook_categories\",\n\t\t\t\t\t// provider: provider\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\t$('.selectize-google-category').selectize({\n\t\t\t\t\tvalueField: 'value',\n\t\t\t\t\tlabelField: 'text',\n\t\t\t\t\tplaceholder: 'Select a Facebook category',\n\t\t\t\t\tsearchField: ['value', 'text'],\n\t\t\t\t\toptions: response,\n\t\t\t\t\trender: {\n\t\t\t\t\t\toption: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.value + ' - ' + data.text)}</div>`,\n\t\t\t\t\t\titem: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.value + ' - ' + data.text)}</div>`\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//remove spinner element\n\t\t\t\t$('.woo-feed-cat-map-spinner').remove();\n\t\t\t}).fail(helper.ajax_fail);\n\t\t}\n\t}\n\n\tlet $copyBtn,\n\t\tclipboard,\n\t\tgoogleCategories,\n\t\tfacebookCategories,\n\t\thelper = {\n\t\t\tin_array: (needle, haystack) => {\n\t\t\t\ttry {\n\t\t\t\t\treturn haystack.indexOf(needle) !== -1;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectize_render_item: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.text)}</div>`, // phpcs:ignore WordPressVIPMinimum.JS.StringConcat.Found,\n\t\t\tajax_fail: e => {\n\t\t\t\tconsole.warn(e);\n\t\t\t\talert(e.hasOwnProperty('statusText') && e.hasOwnProperty('status') ? opts.ajax.error + '\\n' + e.statusText + ' (' + e.status + ')' : e);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Initialize Sortable\n\t\t\t * @param {$|HTMLElement} el\n\t\t\t * @param {object} config\n\t\t\t * @param {int|boolean} column\n\t\t\t * @param {function} onDrop\n\t\t\t * @return {$|HTMLElement}\n\t\t\t */\n\t\t\tsortable: (el, config, column, onDrop) => {\n\t\t\t\treturn (el || $('.sorted_table')).each(function () {\n\t\t\t\t\tlet self = $(this),\n\t\t\t\t\t\tcolumn_count = self.find('tbody > tr:eq(0) > td').length || column || 9;\n\t\t\t\t\tself.wf_sortable(extend({\n\t\t\t\t\t\tcontainerSelector: 'table',\n\t\t\t\t\t\titemPath: '> tbody',\n\t\t\t\t\t\titemSelector: 'tr',\n\t\t\t\t\t\thandle: 'i.wf_sortedtable',\n\t\t\t\t\t\tplaceholder: `<tr class=\"placeholder\"><td colspan=\"${column_count}\"></td></tr>`,\n\t\t\t\t\t\tonDrop: ($item, container, _super, event) => {\n\t\t\t\t\t\t\t$item.removeClass(container.group.options.draggedClass).removeAttr('style');\n\t\t\t\t\t\t\t$(\"body\").removeClass(container.group.options.bodyClass);\n\t\t\t\t\t\t\t// var numb = $item.find(\".wf_mattributes\").attr(\"name\").replace(/\\D/g, \"\");\n\t\t\t\t\t\t\t$item.find(\"input.wf_attributes\").attr(\"name\", \"default[\" + numb + \"]\");\n\t\t\t\t\t\t\tif (onDrop && 'function' === typeof (onDrop)) {\n\t\t\t\t\t\t\t\tonDrop($item, container, _super, event);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t}, config));\n\t\t\t\t});\n\t\t\t},\n\t\t\tselectize: (el, config) => {\n\t\t\t\treturn (el || $('select.selectize')).not('.selectized').not('.selectize-google-category').each(function () {\n\t\t\t\t\tlet self = $(this);\n\t\t\t\t\tself.selectize(extend({\n\t\t\t\t\t\tcreate: self.data('create') || false,\n\t\t\t\t\t\tplugins: self.data('plugins') ? self.data('plugins').split(',').map(function (s) {\n\t\t\t\t\t\t\treturn s.trim();\n\t\t\t\t\t\t}) : [],\n\t\t\t\t\t\t//['remove_button'],\n\t\t\t\t\t\trender: {\n\t\t\t\t\t\t\titem: helper.selectize_render_item\n\t\t\t\t\t\t}\n\t\t\t\t\t}, config));\n\t\t\t\t});\n\t\t\t},\n\t\t\tfancySelect: (el, config) => {\n\t\t\t\treturn (el || $('select.fancySelect')).not('.FancySelectInit').each(function () {\n\t\t\t\t\tlet self = $(this);\n\t\t\t\t\tself.fancySelect(extend({\n\t\t\t\t\t\tmaxItemShow: 3\n\t\t\t\t\t}, config));\n\t\t\t\t});\n\t\t\t},\n\t\t\treindex_config_table: () => {\n\t\t\t\t$('#table-1').find('tbody tr').each((x, el) => {\n\t\t\t\t\t$(el).find('[name]').each((x1, el) => {\n\t\t\t\t\t\t$(el).attr('name', $(el).attr('name').replace(/(\\[\\d\\])/g, `[${x}]`));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tcommon: () => {\n\t\t\t\thelper.sortable($('.sorted_table'), {}, 9, helper.reindex_config_table);\n\t\t\t\thelper.selectize();\n\t\t\t\thelper.fancySelect($('.outputType'));\n\n\t\t\t\t// Init fancy select after getting output_types from API in new UI.\n\t\t\t\twp.hooks.addAction('init_fancy_select', 'fancy_select', function () {\n\t\t\t\t\tlet data = helper.fancySelect($('.ctx-outputType'));\n\n\t\t\t\t\thelper.fancySelect($('.ctx-postStatus'));\n\n\t\t\t\t});\n\n\t\t\t\t// wp.hooks.addAction('test_select_add', 'test',  function (options) {\n\t\t\t\t// \tlet fancySelect = $('.my-select');\n\t\t\t\t// \t// fancySelect.fancySelect();\n\t\t\t\t// \t// fancySelect.append(options);\n\t\t\t\t// \t// fancySelect.trigger('update.fs');\n\t\t\t\t//\n\t\t\t\t// \tfancySelect.fancySelect({\n\t\t\t\t// \t\t\toptionTemplate: function(optionEl) {\n\t\t\t\t// \t\t\t\treturn optionEl.text() + '<div class=\"icon-' + optionEl.data('icon') + '\"></div>';\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t}\n\t\t\t\t// \t});\n\t\t\t\t//\n\t\t\t\t// });\n\n\t\t\t},\n\t\t\t/**\n\t\t\t * Set locale storage data for CTX Feed\n\t\t\t * @param dataName\n\t\t\t * @param data\n\t\t\t * @param shouldStringify\n\t\t\t * @param addToParent\n\t\t\t * @param parentName\n\t\t\t */\n\t\t\tsetLocalStorage: (dataName, data, shouldStringify = true, addToParent = true, parentName = 'ctxFeedData') => {\n\t\t\t\tif (shouldStringify) {\n\t\t\t\t\tdata = JSON.stringify(data);\n\t\t\t\t}\n\t\t\t\tif (addToParent) {\n\t\t\t\t\tlet prevData = window.localStorage.getItem(parentName);\n\t\t\t\t\tif (null !== prevData) {\n\t\t\t\t\t\tprevData = JSON.parse(window.localStorage.getItem(parentName));\n\t\t\t\t\t\tprevData[dataName] = data\n\t\t\t\t\t\twindow.localStorage.setItem(parentName, JSON.stringify(prevData));\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.localStorage.setItem(parentName, JSON.stringify({[dataName]: data}));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (shouldStringify) {\n\t\t\t\t\t\twindow.localStorage.setItem(dataName, JSON.stringify(data));\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.localStorage.setItem(dataName, data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * clear localstorage data.\n\t\t\t * @param dataName\n\t\t\t * @param innerChildren\n\t\t\t * @param hasParent\n\t\t\t * @param parentName\n\t\t\t * @returns {boolean}\n\t\t\t * //TODO: if innerChildren has length delete inner children through loop.\n\t\t\t */\n\n\t\t\tclearLocalStorage: (dataName, innerChildren = [], hasParent = true, parentName = 'ctxFeedData') => {\n\t\t\t\tlet tempData = null;\n\t\t\t\tlet hasDeleted = false;\n\t\t\t\t// if dataName is innerChild of parentName\n\t\t\t\tif (hasParent) {\n\t\t\t\t\ttempData = window.localStorage.getItem(parentName);\n\t\t\t\t\tif (!tempData) return hasDeleted;\n\n\t\t\t\t\ttempData = JSON.parse(tempData);\n\t\t\t\t\t// dataName is child of parentName.\n\t\t\t\t\tif (tempData.hasOwnProperty(dataName)) {\n\t\t\t\t\t\t// dataName's has innerChildren.\n\t\t\t\t\t\tif (innerChildren.length) {\n\t\t\t\t\t\t\tlet data = JSON.parse(tempData[dataName]);\n\t\t\t\t\t\t\tinnerChildren.map(child => {\n\t\t\t\t\t\t\t\tif (data.hasOwnProperty(child)) {\n\t\t\t\t\t\t\t\t\tdelete data[child]; // delete each innerChild\n\t\t\t\t\t\t\t\t\thasDeleted = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// update dataName with current data.\n\t\t\t\t\t\t\thelper.setLocalStorage(dataName, data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdelete tempData[dataName];\n\t\t\t\t\t\t\thasDeleted = true;\n\t\t\t\t\t\t\t// update dataName with current data.\n\t\t\t\t\t\t\thelper.setLocalStorage(dataName, null);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twindow.localStorage.removeItem(dataName);\n\t\t\t\t\thasDeleted = true;\n\t\t\t\t}\n\n\t\t\t\treturn hasDeleted;\n\t\t\t},\n\n\t\t},\n\t\t// helper functions\n\t\tfeedEditor = {\n\t\t\t/**\n\t\t\t * The Editor Form Elem.\n\t\t\t * @type {$|HTMLElement}\n\t\t\t */\n\t\t\tform: null,\n\n\t\t\t/**\n\t\t\t * Initialize The Feed Editor {Tabs...}\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tinit: function () {\n\t\t\t\tlet self = this;\n\t\t\t\tself.form = $('.generateFeed');\n\t\t\t\tif (!self.form.length) return;\n\t\t\t\thelper.common();\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t$(document).trigger('feed_editor_init');\n\t\t\t\t$(document).trigger(new jQuery.Event('feedEditor.init', {\n\t\t\t\t\ttarget: this.form\n\t\t\t\t}));\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Render Merchant info ajax response and handle allowed feed type for selected merchant\n\t\t\t * @param {$|HTMLElement} merchantInfo jQuery dom object\n\t\t\t * @param {$|HTMLElement} feedType     jQuery dom object\n\t\t\t * @param {Object} r            ajax response object\n\t\t\t */\n\t\t\trenderMerchantInfo: function (merchantInfo, feedType, r) {\n\t\t\t\tfor (let k in r) {\n\t\t\t\t\tif (r.hasOwnProperty(k)) {\n\t\t\t\t\t\tmerchantInfo.find('.merchant-info-section.' + k + ' .data').html(r[k]); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html\n\n\t\t\t\t\t\tif ('feed_file_type' === k) {\n\t\t\t\t\t\t\t(function () {\n\t\t\t\t\t\t\t\tlet types = r[k].split(\",\").map(function (t) {\n\t\t\t\t\t\t\t\t\treturn t.trim().toLowerCase();\n\t\t\t\t\t\t\t\t}).filter(function (t) {\n\t\t\t\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\t\t\t\treturn t !== '' && t !== opts.na.toLowerCase();\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (types.length) {\n\t\t\t\t\t\t\t\t\tfeedType.find('option').removeAttr('selected').each(function () {\n\t\t\t\t\t\t\t\t\t\tlet opt = $(this);\n\t\t\t\t\t\t\t\t\t\topt.val() && !helper.in_array(opt.val(), types) ? opt.disabled(!0) : opt.disabled(!1);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (types.length === 1) feedType.find('option[value=\"' + types[0] + '\"]').attr('selected', 'selected');\n\t\t\t\t\t\t\t\t} else feedType.find('option').disabled(!1);\n\t\t\t\t\t\t\t})();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tmerchantInfo.find('.spinner').removeClass('is-active');\n\t\t\t\tfeedType.disabled(!1);\n\t\t\t\tfeedType.trigger('change');\n\n\t\t\t\t/**\n\t\t\t\t * Triggers after merchant configuration is fetched & loaded\n\t\t\t\t * */\n\t\t\t\t$(document).trigger('woo_feed_config_loaded');\n\n\t\t\t\tfeedType.parent().find('.spinner').removeClass('is-active');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Render Feed Template Tabs and settings while creating new feed.\n\t\t\t * @param {$|HTMLElement} feedForm     feed from query dom object\n\t\t\t * @param {object} r            merchant template ajax response object\n\t\t\t */\n\t\t\trenderMerchantTemplate: function (feedForm, r) {\n\t\t\t\tlet _loop = function _loop(k) {\n\t\t\t\t\tif (r.hasOwnProperty(k)) {\n\t\t\t\t\t\tif ('tabs' === k) {\n\t\t\t\t\t\t\t// noinspection JSUnresolvedFunction\n\t\t\t\t\t\t\tfeedForm.html(r[k]); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet contentSettings = $('[name=\"' + k + '\"]');\n\n\t\t\t\t\t\t\tif (contentSettings.length) {\n\t\t\t\t\t\t\t\tcontentSettings.each(function () {\n\t\t\t\t\t\t\t\t\tlet elem = $(this);\n\n\t\t\t\t\t\t\t\t\tif (elem.is('select')) {\n\t\t\t\t\t\t\t\t\t\telem.find('[value=\"' + r[k] + '\"]').prop('selected', true);\n\t\t\t\t\t\t\t\t\t} else if ((elem.is('[type=checkbox]') || elem.is('[type=radio]')) && elem.val() === r[k]) {\n\t\t\t\t\t\t\t\t\t\telem.prop('checked', true);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\telem.val(r[k]); // type=text\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}).trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tfor (let k in r) {\n\t\t\t\t\t_loop(k);\n\t\t\t\t}\n\n\t\t\t\tfeedEditor.init();\n\t\t\t}\n\t\t},\n\t\t// Feed Editor Table\n\t\tmerchantInfoCache = [],\n\t\tmerchantTemplateCache = [],\n\t\ttooltip = () => {\n\t\t\t// Tooltip only Text\n\t\t\t$('.wfmasterTooltip')\n\t\t\t\t.hover(function () {\n\t\t\t\t\t// Hover over code\n\t\t\t\t\tlet self = $(this), title = self.attr('wftitle');\n\t\t\t\t\tself.data('tipText', title).removeAttr('wftitle');\n\t\t\t\t\t$('<p class=\"wftooltip\"></p>').text(title).appendTo('body').fadeIn('slow');\n\t\t\t\t}, function () {\n\t\t\t\t\t// Hover out code\n\t\t\t\t\tlet self = $(this);\n\t\t\t\t\tself.attr('wftitle', self.data('tipText'));\n\t\t\t\t\t$('.wftooltip').remove();\n\t\t\t\t})\n\t\t\t\t.mousemove(function (e) {\n\t\t\t\t\t$('.wftooltip').css({\n\t\t\t\t\t\ttop: e.pageY + 10,\n\t\t\t\t\t\tleft: e.pageX + 20\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tclip = () => {\n\t\t\t$copyBtn = $('.toClipboard');\n\t\t\tif (!ClipboardJS.isSupported() || /iPhone|iPad/i.test(navigator.userAgent)) {\n\t\t\t\t$copyBtn.find('img').hide(0);\n\t\t\t} else {\n\t\t\t\t$copyBtn.each(function () {\n\t\t\t\t\t$(this).on('mouseleave', clearTooltip).on('blur', clearTooltip);\n\t\t\t\t});\n\t\t\t\tclipboard = new ClipboardJS('.toClipboard');\n\t\t\t\tclipboard.on('error', function (event) {\n\t\t\t\t\tshowTooltip(event.trigger, fallbackMessage(event.action));\n\t\t\t\t}).on('success', function (event) {\n\t\t\t\t\tshowTooltip(event.trigger, 'Copied');\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t/**\n\t * Feed Generator Module\n\t */\n\tclass feedGenerator {\n\n\t\t/**\n\t\t * Constructor\n\t\t * @constructor\n\t\t */\n\t\tconstructor() {\n\t\t\tthis._feed = opts.generator.feed; // wf_config+xxxx\n\t\t\tthis._limit = opts.generator.limit;\n\t\t\tthis._progress = 0;\n\t\t\tthis._timer = null;\n\t\t\tthis._color = false;\n\t\t\t// batch info\n\t\t\tthis._total_batch = 0;\n\t\t\tthis._current_batch = 0;\n\t\t\tthis._product_ids = [];\n\t\t\tthis._progress_per_batch = 0;\n\t\t\tthis._refresh = true;\n\t\t\t// noinspection JSUnresolvedVariable\n\t\t\tthis._regenerate = opts.generator.regenerate;\n\t\t\twindow.isRegenerating = false;\n\t\t\tthis._all_btn = $('.wpf_regenerate');\n\t\t\tthis._current_btn = $(`#${this._feed.replace('wf_config', 'wf_feed_')}`);\n\t\t\tthis._current_btn_label = '';\n\t\t}\n\n\t\t/**\n\t\t * Init Hooks (Event)\n\t\t * @return {feedGenerator}\n\t\t */\n\t\tinit() {\n\t\t\tlet self = this;\n\t\t\tif ('' !== this._feed && this._regenerate && false === window.isRegenerating) {\n\t\t\t\tthis.generate();\n\t\t\t}\n\n\t\t\t//thickbox body add feed plugin class to make it unique and custom style\n\t\t\tlet current_page_query = window.location.search;\n\t\t\tlet params = new URLSearchParams(current_page_query);\n\t\t\tlet page_name = params.get(\"page\");\n\t\t\tif (\"webappick-manage-feeds\" === page_name) {\n\t\t\t\t$('body').addClass('woo-import-popup-body');\n\t\t\t}\n\n\t\t\t$(document).on('click', '.woo-feed-campaign-close-button', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t$(this).parent('.woo-feed-promotion').hide();\n\t\t\t\tlet condition = $(this).data('condition');\n\t\t\t\tif (1 === condition) {\n\t\t\t\t\twpAjax.post('woo_feed_hide_promotion', {\n\t\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\t\tcondition: condition,\n\t\t\t\t\t}).then(response => {\n\t\t\t\t\t\tself._log(response);\n\t\t\t\t\t}).fail(error => {\n\t\t\t\t\t\tself._log(error);\n\t\t\t\t\t\tself._updateProgressStatus(error.message);\n\t\t\t\t\t\tself._color = 'red';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$(document).on('click', '.wpf_regenerate', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tself._current_btn = $(this);\n\t\t\t\tif (self._current_btn.hasClass('disabled') || window.isRegenerating === true) return;\n\t\t\t\tself._feed = self._current_btn.attr('id').replace('wf_feed_', 'wf_config');\n\t\t\t\tif ('' !== self._feed) {\n\t\t\t\t\tself.generate();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\t_block_button() {\n\t\t\tif (this._all_btn.length) {\n\t\t\t\tthis._all_btn.addClass('disabled');\n\t\t\t}\n\t\t\tif (this._current_btn.length) {\n\t\t\t\tthis._current_btn.find('span').addClass('wpf_spin reverse_spin');\n\t\t\t\tthis._current_btn_label = this._current_btn.attr('title');\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tthis._current_btn.attr('aria-label', opts.regenerate).attr('title', opts.regenerate);\n\t\t\t}\n\t\t}\n\n\t\t_unblock_button() {\n\t\t\tif (this._all_btn.length) {\n\t\t\t\tthis._all_btn.removeClass('disabled');\n\t\t\t}\n\t\t\tif (this._current_btn.length) {\n\t\t\t\tthis._current_btn.find('span').removeClass('wpf_spin');\n\t\t\t\tthis._current_btn.find('span').removeClass('reverse_spin');\n\t\t\t\tthis._current_btn.attr('aria-label', this._current_btn_label).attr('title', this._current_btn_label);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Generate Feed\n\t\t * @return void\n\t\t */\n\t\tgenerate() {\n\t\t\tlet self = this;\n\t\t\twindow.isRegenerating = true;\n\t\t\tthis._block_button();\n\t\t\tthis._resetProgressBar();\n\t\t\tthis._progressBarActive();\n\t\t\tthis._log('Counting Total Products');\n\t\t\tthis._updateProgressStatus('Fetching products.');\n\t\t\tthis._get_product_ids().then(response => {\n\t\t\t\tthis._progress = 10;\n\t\t\t\tself._log({response});\n\t\t\t\tif (response.success) {\n\t\t\t\t\tself._log(`Total ${response.total} Products found.`);\n\t\t\t\t\tself._product_ids = response.product;\n\t\t\t\t\tself._total_batch = this._product_ids.length;\n\t\t\t\t\tself._current_batch = 0;\n\t\t\t\t\tself._progress_per_batch = (90 - this._progress) / this._total_batch;\n\t\t\t\t\tself._process_batch();\n\t\t\t\t\tself._updateProgressStatus('Processing Products...');\n\t\t\t\t} else {\n\t\t\t\t\tself._updateProgressStatus(response.data.message);\n\t\t\t\t}\n\t\t\t}).fail(error => {\n\t\t\t\tself._log(error);\n\t\t\t\tself._updateProgressStatus(error.message);\n\t\t\t\tself._color = 'red';\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself._stopProgressBar();\n\t\t\t\t\tself._unblock_button();\n\t\t\t\t}, 1500);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Get Product Ids\n\t\t * @returns {$.promise}\n\t\t * @private\n\t\t */\n\t\t_get_product_ids() {\n\t\t\tthis._progress = 5;\n\t\t\treturn wpAjax.post('get_product_information', {\n\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\tfeed: this._feed,\n\t\t\t\tlimit: this._limit,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Run the Batch\n\t\t * @private\n\t\t */\n\t\t_process_batch() {\n\t\t\tlet self = this;\n\t\t\tlet status = `Processing Batch ${this._current_batch + 1} of ${this._total_batch}`;\n\t\t\tthis._updateProgressStatus(status);\n\t\t\tthis._log(status);\n\t\t\twpAjax.post('make_batch_feed', {\n\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\tfeed: this._feed,\n\t\t\t\tproducts: this._product_ids[this._current_batch],\n\t\t\t\tloop: this._current_batch,\n\t\t\t}).then(response => {\n\t\t\t\tself._current_batch++;\n\t\t\t\tself._log(`Batch ${self._current_batch} Completed`);\n\t\t\t\tself._log(response);\n\t\t\t\tif (self._current_batch < self._total_batch) {\n\t\t\t\t\tself._process_batch();\n\t\t\t\t\tself._progress += self._progress_per_batch;\n\t\t\t\t}\n\t\t\t\tif (self._current_batch === self._total_batch) {\n\t\t\t\t\tself._save_feed_file();\n\t\t\t\t}\n\t\t\t}).fail(error => {\n\t\t\t\tself._log(error);\n\t\t\t\tself._updateProgressStatus(error.message);\n\t\t\t\tself._color = 'red';\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself._stopProgressBar();\n\t\t\t\t\tself._unblock_button();\n\t\t\t\t}, 1500);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Save Feed Data from temp to feed file\n\t\t * @private\n\t\t */\n\t\t_save_feed_file() {\n\t\t\tlet self = this;\n\t\t\tthis._log('Saving feed file');\n\t\t\tthis._updateProgressStatus('Saving feed file');\n\t\t\twpAjax.post('save_feed_file', {\n\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\tfeed: this._feed,\n\t\t\t}).then(response => {\n\t\t\t\tself._log(response);\n\t\t\t\tself._progress = 100;\n\t\t\t\tif (self._refresh) {\n\t\t\t\t\twindow.location.href = `${opts.pages.list.feed}&link=${response.url}&cat=${response.cat}`;\n\t\t\t\t}\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself._stopProgressBar();\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tself._resetProgressBar(true);\n\t\t\t\t\t\tself._unblock_button();\n\t\t\t\t\t}, 3000);\n\t\t\t\t}, 2500);\n\t\t\t}).fail(error => {\n\t\t\t\tself._log(error);\n\t\t\t\tself._updateProgressStatus(error.message);\n\t\t\t\tself._color = 'red';\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself._stopProgressBar();\n\t\t\t\t\tself._unblock_button();\n\t\t\t\t}, 1500);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Console log wrapper with debug settings.\n\t\t * @param data\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_log(data) {\n\t\t\t// noinspection JSUnresolvedVariable\n\t\t\tif (opts.wpf_debug) {\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Run the progressbar refresh interval\n\t\t * @param {int} refreshInterval\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_progressBarActive(refreshInterval = 0) {\n\t\t\tlet self = this;\n\t\t\tthis._toggleProgressBar(true);\n\t\t\tthis._timer = setInterval(function () {\n\t\t\t\tself._updateProgressBar();\n\t\t\t}, refreshInterval || 1000);\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Stop Progressbar\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_stopProgressBar() {\n\t\t\tclearInterval(this._timer);\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Reset Progressbar\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_resetProgressBar(update) {\n\t\t\tthis._toggleProgressBar(false);\n\t\t\tthis._updateProgressStatus('');\n\t\t\tclearInterval(this._timer);\n\t\t\tthis._color = false;\n\t\t\tthis._timer = null;\n\t\t\tthis._progress = 0;\n\t\t\tif (update) {\n\t\t\t\tthis._updateProgressBar();\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Show hide the progress bar el\n\t\t * @param status\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_toggleProgressBar(status) {\n\t\t\tlet table = $('#feed_progress_table');\n\t\t\tif (status) {\n\t\t\t\ttable.show();\n\t\t\t} else {\n\t\t\t\ttable.hide();\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Update Progress bar text status\n\t\t * @param {string} status\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_updateProgressStatus(status) {\n\t\t\t$('.feed-progress-status').html(status);\n\t\t\treturn this;\n\t\t}\n\n\t\t_getErrorMessageByCode(error) {\n\t\t\tlet progress_message = $('.feed-progress-status');\n\t\t\tprogress_message.css({'color': this._color});\n\t\t\t$('.feed-progress-percentage').css({'color': this._color});\n\t\t\t$('.wpf_spin').css({'color': this._color});\n\n\t\t\tlet message = error.status + ' : ' + error.statusText + '. ';\n\t\t\tif (500 === error.status) {\n\t\t\t\tmessage += \"Please increase your PHP max_execution_time. Please <a target='_blank' href='https://webappick.com/docs/woo-feed/faq-for-woocommerce-product-feed/how-to-solve-processing-10-feed-generation-stuck-error/'>read this doc</a>.\";\n\t\t\t}\n\n\t\t\tthis._updateProgressStatus(message);\n\n\t\t}\n\n\t\t/**\n\t\t * Update Progress Data\n\t\t * hooked with setInterval\n\t\t * @private\n\t\t */\n\t\t_updateProgressBar() {\n\t\t\tlet percentage = $('.feed-progress-percentage'),\n\t\t\t\tbar = $('.feed-progress-bar-fill'),\n\t\t\t\t_progress = `${Math.round(this._progress)}%`;\n\t\t\tbar.css({\n\t\t\t\twidth: _progress,\n\t\t\t});\n\t\t\tpercentage.text(_progress);\n\t\t}\n\t}\n\n\t// expose to the global scope\n\twindow.wf = {\n\t\thelper: helper,\n\t\tfeedEditor: feedEditor,\n\t\tgenerator: feedGenerator,\n\t};\n\n\t$(window).on('load', function () {\n\t\t// Template loading ui conflict\n\t\tif ($(location).attr(\"href\").match(/webappick.*feed/g) !== null) {\n\t\t\t$('#wpbody-content').addClass('woofeed-body-content');\n\t\t}\n\n\t\t// ClipBoardJS\n\t\tclip();\n\t\t// postbox toggle\n\t\tpostboxes.add_postbox_toggles(pagenow);\n\t\t// initialize generator\n\t\tlet generator = new feedGenerator();\n\t\tgenerator.init();\n\t\t// noinspection JSUnresolvedVariable\n\t\tif ('' !== opts.generator.feed && opts.generator.regenerate) {\n\n\t\t}\n\t\t// initialize editor\n\t\tfeedEditor.init();\n\t\thelper.common(); // Generate Feed Add Table Row\n\t\ttooltip();\n\t\t// validate feed editor\n\t\t$(\".generateFeed\").validate();\n\n\t\t// document events\n\t\t$(document)\n\t\t\t.on('blur', 'input[name=\"wfDAttributeName\"]', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet attr_name = $(this).val();\n\t\t\t\tattr_name = attr_name.toLowerCase();\n\t\t\t\tattr_name = attr_name.split(' ').join('_');\n\n\t\t\t\t$('#wfDAttributeCode').val(attr_name);\n\n\t\t\t})\n\t\t\t.on('click', '[data-toggle_slide]', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$($(this).data('toggle_slide')).slideToggle('fast');\n\t\t\t})\n\t\t\t// XML Feed Wrapper\n\t\t\t.on('click', '#wf_newRow', function () {\n\t\t\t\tlet tbody = $('#table-1 tbody'),\n\t\t\t\t\ttemplate = $('#feed_config_template').text().trim().replace(/__idx__/g, tbody.find('tr').length);\n\t\t\t\ttbody.append(template);\n\t\t\t\thelper.fancySelect($('.outputType'));\n\t\t\t\thelper.fancySelect($('.ctx-outputType'));\n\t\t\t})\n\t\t\t// feed delete alert.\n\t\t\t.on('click', '.single-feed-delete', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tif (confirm(opts.form.del_confirm)) {\n\t\t\t\t\twindow.location.href = $(this).attr('val');\n\t\t\t\t}\n\t\t\t})\n\t\t\t// clear cache data.\n\t\t\t.on('click', '.wf_clean_cache_wrapper', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tvar nonce = $('.woo-feed-clean-cache-nonce').val();\n\t\t\t\tvar loader = $('.woo-feed-cache-loader');\n\t\t\t\tvar types = [\"woo_feed_attributes\", \"woo_feed_category_mapping\", \"woo_feed_dynamic_attributes\", \"woo_feed_attribute_mapping\", \"woo_feed_wp_options\"];\n\n\t\t\t\t//show loader\n\t\t\t\tloader.show();\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\n\t\t\t\t\t// passed cache nonce\n\t\t\t\t\twpAjax.post('clear_cache_data', {\n\t\t\t\t\t\t_ajax_clean_nonce: nonce,\n\t\t\t\t\t\ttype: types[i]\n\t\t\t\t\t}).then(function (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t//hader notice dismiss action\n\t\t\t\t\t\t\twpAjax.post('pressmodo_dismiss_notice', {\n\t\t\t\t\t\t\t\t'id': types[i],\n\t\t\t\t\t\t\t\t'nonce': response.nonce\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tloader.hide(); //hide loader\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function () {\n\t\t\t\t\t\tconsole.log('something wrong');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t})// Copy Status\n\n\t\t\t.on('click', '.ctx-notice-cache-clear', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tvar nonce = $(this).data('id');\n\t\t\t\tconsole.log(nonce);\n\t\t\t\tvar notificationLoader = $('.loadingio-spinner-reload-5t7io14g51q');\n\n\t\t\t\tvar clickedId_type = $(this).attr('id');\n\t\t\t\t//show loader\n\t\t\t\tnotificationLoader.show();\n\t\t\t\tvar cache_types = [\"woo_feed_attributes\", \"woo_feed_category_mapping\", \"woo_feed_dynamic_attributes\", \"woo_feed_attribute_mapping\", \"woo_feed_wp_options\"];\n\n\n\t\t\t\thelper.clearLocalStorage('options', ['product_attributes']);\n\n\t\t\t\tfor (let i = 0; i < cache_types.length; i++) {\n\t\t\t\t\t// passed cache nonce\n\t\t\t\t\twpAjax.post('clear_cache_data', {\n\t\t\t\t\t\t_ajax_clean_nonce: nonce,\n\t\t\t\t\t\ttype: cache_types[i]\n\t\t\t\t\t}).then(function (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t//hader notice dismiss action\n\t\t\t\t\t\t\twpAjax.post('pressmodo_dismiss_notice', {\n\t\t\t\t\t\t\t\t// 'id': 'woo_feed_attributes',\n\t\t\t\t\t\t\t\t'id': cache_types[i],\n\t\t\t\t\t\t\t\t'nonce': response.nonce\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnotificationLoader.hide(); //hide loader\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function () {\n\t\t\t\t\t\tconsole.log('something wrong');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t})// Copy Status\n\n\n\t\t\t.on('click', '#woo-feed-copy-status-btn', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet button = $('#woo-feed-copy-status-btn');\n\t\t\t\tlet status_area = $('#woo-feed-status-area');\n\t\t\t\tbutton.val('Copied');\n\t\t\t\tstatus_area.css('visibility', 'visible');\n\t\t\t\tstatus_area.select();\n\n\t\t\t\tdocument.execCommand('copy');\n\t\t\t})\n\t\t\t// feed value dropdown change.\n\t\t\t.on('change', '.ctx-wf_attr.ctx-wf_attributes', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// $('.fancy-picker-picked').trigger(\"click\"); // trigger fancy select box clicked\n\t\t\t\t// TODO need to match with new UI\n\t\t\t\t// price attributes\n\t\t\t\tvar price_attributes = ['price', 'current_price', 'sale_price', 'price_with_tax', 'current_price_with_tax', 'sale_price_with_tax', 'shipping_cost'];\n\t\t\t\t// current value\n\t\t\t\tvar current_attribute_value = $(this).val();\n\t\t\t\t// var outputSelect = $(this).parents('tr').find('.outputType');\n\t\t\t\tvar outputSelect = $(this).parents('tr').find('.ctx-outputType');\n\t\t\t\t// var fancyOption = $(this).parents('tr').find('.fancy-picker-content .fancy-picker-option');\n\t\t\t\tvar fancyOption = $(this).parents('tr').find('.fancy-picker-content');\n\n\t\t\t\tlet arr = [\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"0\">Select Attribute</div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option selected\" data-value=\"1\"> Default </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"2\"> Strip Tags </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"3\"> UTF-8 Encode </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"4\"> htmlentities </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"5\"> Integer </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"6\"> Price </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"7\"> Rounded Price </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"8\"> Remove Space </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"9\"> CDATA </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"10\"> Remove Special Character </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"11\"> Remove ShortCodes </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"12\"> ucwords </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"13\"> ucfirst </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"14\"> strtoupper </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"15\"> strtolower </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"16\"> urlToSecure </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"17\"> urlToUnsecure </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"18\"> only_parent </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"19\"> parent </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"20\"> parent_if_empty </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"21\">  </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"22\">  </div>'\n\t\t\t\t];\n\n\t\t\t\tarr.map(item => {\n\t\t\t\t\tfancyOption.append(item);\n\t\t\t\t});\n\n\n\t\t\t\tvar fancyDataPicker = $(this).parents('tr').find('.fancy-picker-data');\n\t\t\t\tvar selectIf, selectKey;\n\t\t\t\tvar currency;\n\n\t\t\t\t// when any attribute is selected, pick the key\n\t\t\t\tif (price_attributes.includes(current_attribute_value)) {\n\t\t\t\t\t// when select any price attribute\n\t\t\t\t\tselectIf = 'for_price';\n\t\t\t\t\tselectKey = \"Price\";\n\t\t\t\t} else if (\"\" !== current_attribute_value && -1 !== current_attribute_value.indexOf('wf_taxo')) {\n\n\t\t\t\t\t// when select any custom taxonomy\n\t\t\t\t\tselectIf = 'for_custom_taxo';\n\t\t\t\t\tselectKey = \"parent_if_empty\";\n\t\t\t\t} else {\n\n\t\t\t\t\tselectIf = 'for_all';\n\t\t\t\t\tselectKey = 'Default';\n\t\t\t\t}\n\n\t\t\t\t// remove selected class from old selected option\n\t\t\t\t$(fancyOption).find('.fancy-picker-option').removeClass('selected');\n\n\n\t\t\t\t// when value dropdown is selected as price or any custom taxonomy\n\t\t\t\tif (selectIf === 'for_custom_taxo' || selectIf === 'for_price') {\n\t\t\t\t\t// update \"Option Type\" when select key matches\n\t\t\t\t\t$(fancyOption).find('.fancy-picker-option').each(function () {\n\t\t\t\t\t\tif (selectKey === $(this).text().trim()) {\n\t\t\t\t\t\t\tfancyDataPicker.html(`<span>${selectKey}</span>`);\n\t\t\t\t\t\t\toutputSelect.find(\"option\").text(selectKey);\n\t\t\t\t\t\t\toutputSelect.find(\"option\").val($(this).data(\"value\"));\n\t\t\t\t\t\t\t$(this).addClass('selected');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (\"for_price\" === selectIf) {\n\t\t\t\t\t\tvar feedCurrency = $('#feedCurrency').val();\n\t\t\t\t\t\tif (\"undefined\" !== typeof feedCurrency && null !== feedCurrency) {\n\t\t\t\t\t\t\tcurrency = feedCurrency;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrency = wpf_ajax_obj.woocommerce.currency;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//for price add currency to the suffix\n\t\t\t\t\t\t$(this).closest(\"tr\").find(\"td:eq(5) input\").val(\" \" + currency);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfancyOption.each(function () {\n\t\t\t\t\t\tif (selectKey === $(this).text()) {\n\t\t\t\t\t\t\t$(this).addClass('selected');\n\t\t\t\t\t\t\tfancyDataPicker.text(selectKey);\n\t\t\t\t\t\t\toutputSelect.find(\"option\").text(selectKey);\n\t\t\t\t\t\t\toutputSelect.find(\"option\").val($(this).data(\"value\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$(this).closest(\"tr\").find(\"td:eq(5) input\").val(\"\");\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t// bulk delete alert.\n\t\t\t.on('click', '#doaction, #doaction2', function () {\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\treturn confirm(opts.form.del_confirm_multi);\n\t\t\t})\n\t\t\t// Generate Feed Table Row Delete\n\t\t\t.on('change', '.dType', function () {\n\t\t\t\tlet self = $(this),\n\t\t\t\t\ttype = self.val(),\n\t\t\t\t\trow = self.closest('tr');\n\n\t\t\t\tif (type === 'pattern') {\n\t\t\t\t\trow.find('.value_attribute').hide();\n\t\t\t\t\trow.find('.value_pattern').show();\n\t\t\t\t} else if (type === 'attribute') {\n\t\t\t\t\trow.find('.value_attribute').show();\n\t\t\t\t\trow.find('.value_pattern').hide();\n\t\t\t\t} else if (type === 'remove') {\n\t\t\t\t\trow.find('.value_attribute').hide();\n\t\t\t\t\trow.find('.value_pattern').hide();\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Generate Feed Form Submit\n\t\t\t.on('click', '.delRow', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$(this).closest('tr').remove();\n\t\t\t\thelper.reindex_config_table();\n\t\t\t})\n\t\t\t.on('submit', '#generateFeed', function () {\n\t\t\t\t// Feed Generating form validation\n\t\t\t\t$(this).validate();\n\n\t\t\t\tif ($(this).valid()) {\n\t\t\t\t\t$(\".makeFeedResponse\")\n\t\t\t\t\t\t.show()\n\t\t\t\t\t\t.html(`<b style=\"color: darkblue;\"><i class=\"dashicons dashicons-sos wpf_spin\"></i> ${opts.form.generate}</b>`); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html, WordPressVIPMinimum.JS.StringConcat.Found\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Generate Update Feed Form Submit\n\t\t\t.on('submit', '#updatefeed', function (e, data) {\n\t\t\t\t// Feed Generating form validation\n\t\t\t\t$(this).validate();\n\n\t\t\t\tif ($(this).valid()) {\n\t\t\t\t\t$(\".makeFeedResponse\")\n\t\t\t\t\t\t.show()\n\t\t\t\t\t\t.html(`<b style=\"color: darkblue;\"><i class=\"dashicons dashicons-sos wpf_spin\"></i> ${data && data.save ? opts.form.save : opts.form.generate}</b>`); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html, WordPressVIPMinimum.JS.StringConcat.Found\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('ready woo_feed_config_loaded', function () {\n\n\t\t\t\tif ($('#ftpenabled').val() === '0') {\n\t\t\t\t\t$('.google-merchant-message').hide('slow');\n\t\t\t\t\t$('.woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) input, .woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) select').attr('disabled', 'disabled');\n\t\t\t\t} else {\n\t\t\t\t\tif ($('#provider').val() === 'google') {\n\t\t\t\t\t\t$('.google-merchant-message').show('slow');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.google-merchant-message').hide('slow');\n\t\t\t\t\t}\n\t\t\t\t\t$('.woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) input, .woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) select').removeAttr('disabled');\n\t\t\t\t}\n\n\t\t\t\t$('#ftpenabled').on('change', function () {\n\t\t\t\t\tif ($('#ftpenabled').val() === '0') {\n\t\t\t\t\t\t$('.google-merchant-message').hide('slow');\n\t\t\t\t\t\t$('.woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) input, .woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) select').attr('disabled', 'disabled');\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t$('.woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) input, .woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) select').removeAttr('disabled');\n\n\t\t\t\t\t\t// Google merchant specific message\n\t\t\t\t\t\tif ($('#provider').val() === 'google') {\n\t\t\t\t\t\t\t$('.google-merchant-message').show('slow');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('.google-merchant-message').hide('slow');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.on('change', '.ftporsftp', function () {\n\t\t\t\tlet server = $(this).val(),\n\t\t\t\t\tstatus = $('.ssh2_status');\n\n\t\t\t\tif (server === 'sftp') {\n\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\tstatus.show().css('color', 'dodgerblue').text(opts.form.sftp_checking);\n\t\t\t\t\twpAjax.post('get_ssh2_status', {\n\t\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\t\tserver: server\n\t\t\t\t\t}).then(function (response) {\n\t\t\t\t\t\tif (response === 'exists') {\n\t\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\t\tstatus.css('color', '#2CC185').text(opts.form.sftp_available);\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tstatus.hide();\n\t\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\t\tstatus.show().css('color', 'red').text(opts.form.sftp_warning);\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function (e) {\n\t\t\t\t\t\tstatus.hide();\n\t\t\t\t\t\thelper.ajax_fail(e);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tstatus.hide();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('click', '[name=\"save_feed_config\"]', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$('#updatefeed').trigger('submit', {\n\t\t\t\t\tsave: true\n\t\t\t\t});\n\t\t\t})\n\t\t\t// .on('change', '#provider', function (event) {\n\t\t\t//     event.preventDefault();\n\t\t\t//\n\t\t\t//     let merchant = $(this).val(),\n\t\t\t//         templateName = $(this).find(':selected').text(),\n\t\t\t//         name = $('#filename').val(),\n\t\t\t//         feedType = $(\"#feedType\"),\n\t\t\t//         feedForm = $(\"#providerPage\"),\n\t\t\t//         merchantInfo = $('#feed_merchant_info'); // set loading..\n\t\t\t//\n\t\t\t//     // noinspection JSUnresolvedVariable\n\t\t\t//     feedForm.html('<h3><span style=\"float:none;margin: -3px 0 0;\" class=\"spinner is-active\"></span> ' + opts.form.loading_tmpl + '</h3>'); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html, WordPressVIPMinimum.JS.StringConcat.Found\n\t\t\t//\n\t\t\t//     merchantInfo.find('.spinner').addClass('is-active');\n\t\t\t//     feedType.disabled(!0); // disable dropdown\n\t\t\t//\n\t\t\t//     feedType.parent().find('.spinner').addClass('is-active');\n\t\t\t//     merchantInfo.find('.merchant-info-section .data').html(''); // remove previous data\n\t\t\t//\n\t\t\t//\n\t\t\t// \t//:Merchant info now from rest API.\n\t\t\t//\n\t\t\t//     // Get Merchant info for selected Provider/Merchant\n\t\t\t//     if (merchantInfoCache.hasOwnProperty(merchant)) {\n\t\t\t//         feedEditor.renderMerchantInfo(merchantInfo, feedType, merchantInfoCache[merchant]);\n\t\t\t//\n\t\t\t//         /**\n\t\t\t//          * Triggers after merchant configuration is fetched & loaded\n\t\t\t//          * */\n\t\t\t//         $(document).trigger('woo_feed_config_loaded');\n\t\t\t//\n\t\t\t//     } else {\n\t\t\t//         wpAjax.send('woo_feed_get_merchant_info', {\n\t\t\t//             type: 'GET',\n\t\t\t//             data: {\n\t\t\t//                 nonce: opts.nonce,\n\t\t\t//                 provider: merchant,\n\t\t\t//                 templateName: templateName\n\t\t\t//             }\n\t\t\t//         }).then(function (r) {\n\t\t\t//             merchantInfoCache[merchant] = r;\n\t\t\t//             feedEditor.renderMerchantInfo(merchantInfo, feedType, r);\n\t\t\t//         }).then(function(){\n\t\t\t//\n\t\t\t//             /**\n\t\t\t//              * Triggers after merchant configuration is fetched & loaded\n\t\t\t//              * */\n\t\t\t//             $(document).trigger('woo_feed_config_loaded');\n\t\t\t//\n\t\t\t//         }).fail(helper.ajax_fail);\n\t\t\t//     } // Get FeedForm For Selected Provider/Merchant\n\t\t\t//\n\t\t\t// \t// Merchant info now from rest API.\n\t\t\t//     if (merchantTemplateCache.hasOwnProperty(merchant)) {\n\t\t\t//         feedEditor.renderMerchantTemplate(feedForm, merchantTemplateCache[merchant]);\n\t\t\t//\n\t\t\t//         /**\n\t\t\t//          * Triggers after merchant configuration is fetched & loaded\n\t\t\t//          * */\n\t\t\t//         $(document).trigger('woo_feed_config_loaded');\n\t\t\t//\n\t\t\t//     } else {\n\t\t\t//         wpAjax.post('get_feed_merchant', {\n\t\t\t//             _ajax_nonce: opts.nonce,\n\t\t\t//             merchant: merchant\n\t\t\t//         }).then(function (r) {\n\t\t\t//             merchantTemplateCache[merchant] = r;\n\t\t\t//             feedEditor.renderMerchantTemplate(feedForm, r);\n\t\t\t//             $('#utm_source').val(templateName);\n\t\t\t//             $('#utm_campaign').val(name);\n\t\t\t//             //when merchant is bing, change delimiter and enclosure\n\t\t\t//             if( 'bing' === merchant ) {\n\t\t\t//                 //delimiter value\n\t\t\t//                 $(\"#delimiter option\").removeAttr('selected');\n\t\t\t//                 $(\"#delimiter option[value=\\\"tab\\\"]\").attr('selected', 'selected');\n\t\t\t//\n\t\t\t//                 //enclosure value\n\t\t\t//                 $(\"#enclosure option\").removeAttr('selected');\n\t\t\t//                 $(\"#enclosure option[value=\\\" \\\"]\").attr('selected', 'selected');\n\t\t\t//             }\n\t\t\t//\n\t\t\t//             //reviewer options hide\n\t\t\t//             if( 'google_product_review' !== merchant) {\n\t\t\t//                 $('.wf_attributes option[value=\"reviewer_name\"]').hide();\n\t\t\t//             }\n\t\t\t//         }).then(function(){\n\t\t\t//\n\t\t\t//             /**\n\t\t\t//              * Triggers after merchant configuration is fetched & loaded\n\t\t\t//              * */\n\t\t\t//             $(document).trigger('woo_feed_config_loaded');\n\t\t\t//\n\t\t\t//         }).fail(helper.ajax_fail);\n\t\t\t//     }\n\t\t\t// })\n\t\t\t// Feed Active and Inactive status change via ajax\n\t\t\t.on('change', '.woo_feed_status_input', function () {\n\t\t\t\tlet self = $(this);\n\t\t\t\twpAjax.post('update_feed_status', {\n\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\tfeedName: self.val(),\n\t\t\t\t\tstatus: self[0].checked ? 1 : 0\n\t\t\t\t});\n\t\t\t});\n\t\t// event with trigger\n\t\t$(document)\n\t\t\t.on('change', '[name=\"is_outOfStock\"], [name=\"product_visibility\"]', function () {\n\t\t\t\tlet outOfStockVisibilityRow = $('.out-of-stock-visibility');\n\t\t\t\tif ($('[name=\"is_outOfStock\"]:checked').val() === 'n' && $('[name=\"product_visibility\"]:checked').val() === '1') {\n\t\t\t\t\toutOfStockVisibilityRow.show();\n\t\t\t\t} else {\n\t\t\t\t\toutOfStockVisibilityRow.hide();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('change', '.attr_type', function () {\n\t\t\t\t// Attribute type selection\n\t\t\t\tlet self = $(this),\n\t\t\t\t\ttype = self.val(),\n\t\t\t\t\trow = self.closest('tr');\n\n\t\t\t\tif (type === 'pattern') {\n\t\t\t\t\trow.find('.wf_attr').hide();\n\t\t\t\t\trow.find('.wf_attr').val('');\n\t\t\t\t\trow.find('.wf_default').show();\n\t\t\t\t} else {\n\t\t\t\t\trow.find('.wf_attr').show();\n\t\t\t\t\trow.find('.wf_default').hide();\n\t\t\t\t\trow.find('.wf_default').val('');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('change', '.wf_mattributes, .attr_type', function () {\n\t\t\t\tlet row = $(this).closest('tr'),\n\t\t\t\t\tattribute = row.find('.wf_mattributes'),\n\t\t\t\t\ttype = row.find('.attr_type'),\n\t\t\t\t\tvalueColumn = row.find('td:eq(4)'),\n\t\t\t\t\tprovider = $('#provider').val();\n\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tif (opts.form.google_category.hasOwnProperty(attribute.val()) && type.val() === 'pattern' && helper.in_array(provider, opts.form.google_category[attribute.val()])) {\n\t\t\t\t\tif (valueColumn.find('select.selectize').length === 0) {\n\t\t\t\t\t\tvalueColumn.find('input.wf_default').remove();\n\t\t\t\t\t\tvalueColumn.append('<span class=\"wf_default wf_attributes\"><select name=\"default[]\" class=\"selectize\"></select></span>');\n\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\tvalueColumn.append(`<span style=\"font-size:x-small;\"><a style=\"color: red\" href=\"https://webappick.com/docs/woo-feed/feed-configuration/how-to-map-store-category-with-merchant-category/\" target=\"_blank\">${opts.learn_more}</a></span>`);\n\n\t\t\t\t\t\tif (!googleCategories || !facebookCategories) {\n\t\t\t\t\t\t\tvalueColumn.append('<span class=\"spinner is-active\" style=\"margin: 0;\"></span>');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet select = valueColumn.find('.wf_attributes select');\n\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\thelper.selectize(select, {\n\t\t\t\t\t\t\tpreload: true,\n\t\t\t\t\t\t\tplaceholder: opts.form.select_category,\n\t\t\t\t\t\t\tload: function load(query, cb) {\n\t\t\t\t\t\t\t\tif (!googleCategories) {\n\t\t\t\t\t\t\t\t\twpAjax.send('get_google_categories', {\n\t\t\t\t\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\t\t\t\t\t\t\taction: \"get_google_categories\",\n\t\t\t\t\t\t\t\t\t\t\tprovider: provider\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}).then(function (r) {\n\t\t\t\t\t\t\t\t\t\tgoogleCategories = r;\n\t\t\t\t\t\t\t\t\t\tcb(googleCategories);\n\t\t\t\t\t\t\t\t\t\tvalueColumn.find('.spinner').remove();\n\t\t\t\t\t\t\t\t\t}).fail(helper.ajax_fail);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcb(googleCategories);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t//for facebook product category merchant attribute\n\t\t\t\t\t\t\t\tif (!facebookCategories && \"facebook\" === provider && \"fb_product_category\" === attribute.val()) {\n\t\t\t\t\t\t\t\t\twpAjax.send('get_facebook_categories', {\n\t\t\t\t\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\t\t\t\t\t\t\taction: \"get_facebook_categories\",\n\t\t\t\t\t\t\t\t\t\t\tprovider: provider\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}).then(function (r) {\n\t\t\t\t\t\t\t\t\t\tfacebookCategories = r;\n\t\t\t\t\t\t\t\t\t\tcb(facebookCategories);\n\t\t\t\t\t\t\t\t\t\tvalueColumn.find('.spinner').remove();\n\t\t\t\t\t\t\t\t\t}).fail(helper.ajax_fail);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcb(facebookCategories);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (attribute.val() !== 'current_category' && valueColumn.find('input.wf_default').length === 0) {\n\t\t\t\t\t\tvalueColumn.find('span').remove();\n\t\t\t\t\t\tvalueColumn.append('<input autocomplete=\"off\" class=\"wf_default wf_attributes\"  type=\"text\" name=\"default[]\" value=\"\">');\n\n\t\t\t\t\t\tif (type.val() !== 'pattern') {\n\t\t\t\t\t\t\tvalueColumn.find('input.wf_default').hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('change', '#feedType,#provider', function (e) {\n\t\t\t\tlet type = $('#feedType').val(),\n\t\t\t\t\tprovider = $('#provider').val(),\n\t\t\t\t\titemWrapper = $('.itemWrapper'),\n\t\t\t\t\twf_csv_txt = $('.wf_csvtxt');\n\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tif (type !== '' && helper.in_array(provider, opts.form.item_wrapper_hidden)) {\n\t\t\t\t\titemWrapper.hide();\n\t\t\t\t}\n\t\t\t\t// TODO check with new UI\n\t\t\t\t//when feed type is changed\n\t\t\t\tif ('feedType' === e.target.id) {\n\t\t\t\t\tif (type === 'csv' || type === 'txt' || type === 'tsv') {\n\t\t\t\t\t\twf_csv_txt.show();\n\t\t\t\t\t\titemWrapper.hide();\n\n\t\t\t\t\t\tif ('tsv' === type) {\n\t\t\t\t\t\t\t$('#delimiter option:last').prop(\"selected\", \"selected\");\n\t\t\t\t\t\t} else if ('csv' === type) {\n\t\t\t\t\t\t\t$('#delimiter option:first').prop(\"selected\", \"selected\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ('xml' === type && \"custom\" === provider) {\n\t\t\t\t\t\titemWrapper.show();\n\t\t\t\t\t\twf_csv_txt.hide();\n\t\t\t\t\t} else if ('json' === type) {\n\t\t\t\t\t\twf_csv_txt.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// when template is not custom template 1 hide the item wrapper\n\t\t\t\tif (\"custom\" !== provider) {\n\t\t\t\t\titemWrapper.hide();\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.trigger('change');\n\n\n\t\t$(document)\n\t\t\t.on('click', '.woofeed-custom-fields [id*=\"-switcher\"]', function () {\n\t\t\t\t$(this).closest('td').find('.switch-loader').show();\n\t\t\t\tlet field = $(this).attr('id').split('-')[0],\n\t\t\t\t\tisTaxonomy = $(this).data('taxonomy'),\n\t\t\t\t\tstatus = $(this).prop('checked');\n\t\t\t\tnew WooFeedCustomFields(field, status, isTaxonomy);\n\n\t\t\t})\n\n\t\t\t// Remove sticky cart on feature page\n\t\t\t.ready(function () {\n\t\t\t\tvar s = $(\".wapk-feed-buy-now-container\");\n\t\t\t\t$(window).scroll(function () {\n\t\t\t\t\tvar windowpos = $(window).scrollTop();\n\t\t\t\t\tif (windowpos <= 5000) {\n\t\t\t\t\t\ts.addClass(\"fixed\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\ts.removeClass(\"fixed\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\t$(document)\n\t\t.on('click', '#woo-feed-debug-log-download', function (e) {\n\t\t\te.preventDefault();\n\t\t\t$(\"<a />\", {\n\t\t\t\tdownload: new Date() + \".log\",\n\t\t\t\thref: URL.createObjectURL(\n\t\t\t\t\tnew Blob([$(\"#woo-feed-debug-log\").val()], {\n\t\t\t\t\t\ttype: \"text/plain\"\n\t\t\t\t\t})),\n\t\t\t}).appendTo(\"body\")[0].click();\n\t\t})\n\t\t// TODO working on new UI\n\t\t.on('keyup', '#filename', function () {\n\t\t\tvar name = $('#filename').val();\n\t\t\t$('#utm_campaign').val(name);\n\t\t})\n\n\t\t.on('click', '.wf-tab-name', function (e) {\n\t\t\t$('.wf-tab-name.activate').removeClass('activate');\n\t\t\t$(this).addClass('activate');\n\n\t\t\tlet for_attr = $(this).attr('for');\n\t\t\t$('.wf_tabs li.active').removeClass('active');\n\t\t\t$('.wf_tabs .wf-tab-content#' + for_attr).parent().addClass('active');\n\t\t})\n\n\t\t.on('change', '#category-mapping-form #providers', function () {\n\t\t\tvar provider = $(this).find(':selected').val(),\n\t\t\t\tgoogleMap = ['google', 'facebook', 'pinterest', 'bing', 'bing_local_inventory', 'snapchat', 'tiktok'];\n\n\t\t\t//add snipper element\n\t\t\t$('.woo-feed-category-mapping-config-table').prepend('<div class=\"woo-feed-cat-map-spinner\"><h3><span style=\"float:none;margin: -3px 0 0;\" class=\"spinner is-active\"></span> Loading Mapping...</h3></div>');\n\n\t\t\tif (googleMap.indexOf(provider) !== -1) {\n\t\t\t\t$('input[id*=\"cat_mapping_\"]').css('display', 'none');\n\t\t\t\t$('.wf_default.wf_attributes').css('display', 'block').css('width', '100%');\n\t\t\t\tvar cat_init = new WooFeedMapCategories();\n\t\t\t\tif (\"facebook\" === provider) {\n\t\t\t\t\tcat_init.wooFeed_get_facebook_categories();\n\t\t\t\t} else {\n\t\t\t\t\tcat_init.wooFeed_get_google_categories();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('input[id*=\"cat_mapping_\"]').css('display', 'block');\n\t\t\t\t$('.wf_default.wf_attributes').css('display', 'none').css('width', '100%');\n\t\t\t\t$('.woo-feed-category-mapping-config-table .woo-feed-cat-map-spinner').css('display', 'none');\n\t\t\t}\n\t\t})\n\n\t\t// Copy parent category ids to child categories.\n\t\t.on('click', 'span[id*=\"cat-map-\"]', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar providerName = $('#category-mapping-form #providers').val(),\n\t\t\t\tgoogleMap = ['google', 'facebook', 'pinterest', 'bing', 'bing_local_inventory', 'snapchat', 'tiktok'],\n\t\t\t\tcatId = $(this).attr('id').replace(/[^\\d.]/g, ''),\n\t\t\t\tgroupId = 'group-child-' + catId;\n\n\t\t\tif (googleMap.indexOf(providerName) !== -1) {\n\t\t\t\tvar catField = $(this).parents('tr').find('.selectized').val();\n\n\t\t\t\tif (catField) {\n\t\t\t\t\t$('.' + groupId).parents('tr').find('select').each(function (i, v) {\n\t\t\t\t\t\t$(v).data('selectize').setValue(catField);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tvar value = $('#cat_mapping_' + catId).val();\n\t\t\t\t$('.' + groupId).parents('tr').find('input').val(value);\n\t\t\t}\n\n\t\t});\n\n\t$(document).ready(function () {\n\t\tvar provider = $(\"#providers\").val(),\n\t\t\tcat_init = new WooFeedMapCategories(),\n\t\t\turl = new URL(window.location.href),\n\t\t\tcat_mapping_action = url.searchParams.get(\"action\");\n\n\t\tif (\"edit-mapping\" === cat_mapping_action) {\n\t\t\t$('.woo-feed-category-mapping-config-table').prepend('<div class=\"woo-feed-cat-map-spinner\"><h3><span style=\"float:none;margin: -3px 0 0;\" class=\"spinner is-active\"></span> Loading Mapping...</h3></div>');\n\n\t\t\tif (\"facebook\" === provider) {\n\t\t\t\tcat_init.wooFeed_get_facebook_categories();\n\t\t\t} else {\n\t\t\t\tcat_init.wooFeed_get_google_categories();\n\t\t\t}\n\n\t\t}\n\t});\n\n\t/*\n\t* Issue fix for feed edit page unsupported `Feed Type` not disabling\n\t* // TODO need to move react\n\t* @since 4.4.22\n\t* */\n\t$(document).on(\"feed_editor_init\", function () {\n\n\t\tlet types = $('.merchant-info-section.feed_file_type .data').html().split(\",\").map(function (t) {\n\t\t\treturn t.trim().toLowerCase();\n\t\t});\n\n\t\tlet feedType = $(\"#feedType\");\n\n\t\tif (types.length) {\n\t\t\tfeedType.find('option').each(function () {\n\t\t\t\tlet opt = $(this);\n\t\t\t\topt.val() && !helper.in_array(opt.val(), types) ? opt.disabled(!0) : opt.disabled(!1);\n\t\t\t});\n\t\t\tif (types.length === 1) feedType.find('option[value=\"' + types[0] + '\"]').attr('selected', 'selected');\n\t\t} else feedType.find('option').disabled(!1);\n\n\t});\n\n\t/**\n\t * Automatically adding postfix for corresponding attribute selection.\n\t * // TODO nee to match with new UI\n\t * @since 4.4.32\n\t */\n\t$(document).on('ready', function () {\n\n\t\tfunction update_postfix() {\n\t\t\tvar attribute_list = {\n\t\t\t\t'price': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'current_price': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'sale_price': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'price_with_tax': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'current_price_with_tax': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'sale_price_with_tax': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'weight': wpf_ajax_obj.woocommerce.weight,\n\t\t\t\t'weight_unit': wpf_ajax_obj.woocommerce.weight,\n\t\t\t\t'height': wpf_ajax_obj.woocommerce.dimension,\n\t\t\t\t'length': wpf_ajax_obj.woocommerce.dimension,\n\t\t\t\t'width': wpf_ajax_obj.woocommerce.dimension\n\t\t\t};\n\n\t\t\tif (typeof wpf_ajax_obj.feed_rules !== 'undefined' && wpf_ajax_obj.feed_rules !== null) {\n\t\t\t\tvar feed_rules = wpf_ajax_obj.feed_rules;\n\t\t\t\tvar current_feed_currency = feed_rules.feedCurrency;\n\t\t\t}\n\n\t\t\t//get current action name of the page\n\t\t\tvar queryString = window.location.search;\n\t\t\tvar urlParams = new URLSearchParams(queryString);\n\t\t\tvar action = urlParams.get('action');\n\n\t\t\t$('.wf_attr.wf_attributes').each(function (key, value) {\n\n\t\t\t\tvar attribute_value = $(value).val();\n\t\t\t\tvar current_Value = $('input[name^=\"suffix\"]').eq(parseInt(key)).val();\n\n\t\t\t\tif (-1 !== $.inArray(current_Value, [\n\t\t\t\t\t' ' + wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t\t' ' + wpf_ajax_obj.woocommerce.weight,\n\t\t\t\t\t' ' + wpf_ajax_obj.woocommerce.dimension\n\t\t\t\t])) {\n\t\t\t\t\t$('input[name^=\"suffix\"]').eq(parseInt(key)).val('');\n\t\t\t\t}\n\n\t\t\t\t$.each(attribute_list, function (_key, _value) {\n\t\t\t\t\tif (attribute_value === _key) {\n\t\t\t\t\t\t_value = null !== current_feed_currency && \"undefined\" !== typeof current_feed_currency ? current_feed_currency : _value;\n\n\t\t\t\t\t\tif (\"undefined\" !== action && \"edit-feed\" !== action) {\n\t\t\t\t\t\t\t$('input[name^=\"suffix\"]').eq(parseInt(key)).val(' ' + _value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('input[name^=\"suffix\"]').eq(parseInt(key)).val(current_Value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$(document).trigger('feedEditor.after.free.postfix.update');\n\t\t}\n\n\t\t$(document).on('feedEditor.init', function () {\n\t\t\tlet provider = $(this).find(':selected').val(),\n\t\t\t\tgoogleMap = ['google', 'facebook', 'pinterest', 'bing', 'bing_local_inventory', 'snapchat', 'tiktok'];\n\n\t\t\tif (googleMap.indexOf(provider) !== -1) {\n\t\t\t\tupdate_postfix();\n\t\t\t}\n\t\t});\n\n\t\t// If file extension is not .wpf then don't select the file.\n\t\t$('#wpf_import_file').on('change', function (e) {\n\t\t\tlet fakePath = e.target.value;\n\t\t\tlet importFileExtension = fakePath.split(\"\\\\\").pop();\n\t\t\timportFileExtension = importFileExtension.split('.').pop();\n\t\t\tif ('wpf' !== importFileExtension) {\n\t\t\t\te.target.value = '';\n\t\t\t\talert('Please select a .wpf extension file');\n\t\t\t}\n\t\t});\n\n\n\t\t// Init codemirror if template is special template.\n\t\twp.hooks.addAction('init_codemirror', 'codemirror', function () {\n\t\t\tlet el = document.getElementById('editor_react');\n\t\t\tif (el) {\n\t\t\t\tconst editor = CodeMirror.fromTextArea(el, {\n\t\t\t\t\tlineNumbers: true,\n\t\t\t\t\tmode: \"xml\",\n\t\t\t\t\tmatchBrackets: true\n\t\t\t\t});\n\t\t\t\teditor.setSize(null, 620);\n\t\t\t\teditor.on('change', function (cm, cObj) {\n\t\t\t\t\twindow.localStorage.setItem('ctx_codemirror', cm.getValue());\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t});\n\n})(jQuery, window, document, wp.ajax, wpf_ajax_obj);\n"]}