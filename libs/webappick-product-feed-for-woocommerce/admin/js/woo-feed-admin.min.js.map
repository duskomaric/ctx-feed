{"version":3,"sources":["woo-feed-admin.js"],"names":["_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","i","disabled","protoProps","staticProps","prototype","prop","fn","self","each","_typeof","String","_toPrimitive","input","hint","isDisabled","status","undefined","prim","Number","call","res","clearTooltip","$","this","extend","WooFeedCustomFields","isTaxonomy","productCustomFields","field","method","url","_createClass","event","currentTarget","arguments","length","index","className","nonce","removeAttr","elem","msg","_default","_args","ClipboardJS","current_page_query","window","search","navigator","userAgent","params","_total_batch","on","_progress_per_batch","document","_regenerate","opts","isRegenerating","_current_btn","action","hide","_feed","wpf_ajax_obj","wpf_ajax_url","success","_this","data","condition","_current_btn_label","wooFeed_get_google_categories","wpAjax","then","ajax","response","labelField","item","concat","wooFeed_get_facebook_categories","type","placeholder","closest","find","escape","WooFeedMapCategories","send","remove","_ajax_nonce","clipboard","googleCategories","facebookCategories","helper","in_array","text","selectize_render_item","ajax_fail","fail","sortable","$copyBtn","selectize","onDrop","$item","numb","container","hasOwnProperty","config","el","haystack","indexOf","needle","fancySelect","reindex_config_table","removeClass","warn","e","x1","error","statusText","column","_onDrop","hooks","create","trim","wf_sortable","column_count","_super","group","options","draggedClass","bodyClass","attr","not","plugins","split","map","s","shouldStringify","addToParent","prevData","localStorage","getItem","parse","x","setItem","dataName","JSON","wp","addAction","tempData","hasDeleted","setLocalStorage","parentName","innerChildren","stringify","form","renderMerchantInfo","_loop2","merchantInfo","types","child","toLowerCase","filter","removeItem","feedType","init","renderMerchantTemplate","_loop","common","trigger","feedForm","html","r","Event","k","t","feedEditor","merchantInfoCache","merchantTemplateCache","tooltip","hover","contentSettings","parent","showTooltip","is","val","_progress","_color","_updateProgressStatus","preventDefault","URLSearchParams","page_name","generate","_current_batch","_product_ids","_all_btn","replace","feedGenerator","location","addClass","_this2","_block_button","_resetProgressBar","_log","_progressBarActive","message","_unblock_button","_process_batch","setTimeout","feed","_stopProgressBar","loop","product","_save_feed_file","limit","products","wpf_debug","console","_toggleProgressBar","_timer","_updateProgressBar","refreshInterval","_refresh","href","pages","list","cat","clearInterval","log","setInterval","progress_message","update","percentage","table","generator","show","clip","postboxes","css","attr_name","Math","round","wf","loader","match","pagenow","regenerate","title","appendTo","fadeIn","pageY","add_postbox_toggles","join","notificationLoader","tbody","slideToggle","_loop4","post","_ajax_clean_nonce","cache_types","confirm","del_confirm","button","status_area","select","id","reload","price_attributes","fancyOption","append","fancyDataPicker","includes","current_attribute_value","selectKey","selectIf","outputSelect","feedCurrency","currency","woocommerce","parents","del_confirm_multi","server","valid","save","validate","sftp_checking","sftp_available","sftp_warning","provider","valueColumn","row","wf_csv_txt","attribute","google_category","learn_more","itemWrapper","select_category","load","query","cb","windowpos","Date","createObjectURL","for_attr","download","cat_init","item_wrapper_hidden","providerName","catField","googleMap","catId","groupId","scroll","ready","Blob","cat_mapping_action","update_postfix","searchParams","name","urlParams","attribute_list","fakePath","weight","v","importFileExtension","feed_rules","queryString","CodeMirror","get","prepend","editor","current_Value","parseInt","opt","current_feed_currency","price","sale_price","getElementById","fromTextArea","lineNumbers","dimension","matchBrackets","cObj","jQuery"],"mappings":"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","file":"woo-feed-admin.min.js","sourcesContent":["// noinspection JSUnresolvedletiable\n/**!\n * WooFeed Scripts\n * @version 3.3.6\n * @package WooFeed\n * @copyright 2020 WebAppick\n *\n */\n/* global ajaxurl, wpAjax, postboxes, pagenow, alert, deleteUserSetting, typenow, adminpage, thousandsSeparator, decimalPoint, isRtl */\n// noinspection JSUnresolvedVariable\n\n(function ($, window, document, wpAjax, opts) {\n\t\"use strict\";\n\t/**\n\t * All of the code for your admin-facing JavaScript source\n\t * should reside in this file.\n\t *\n\t * Note: It has been assumed you will write jQuery code here, so the\n\t * $ function reference has been prepared for usage within the scope\n\t * of this function.\n\t *\n\t * This enables you to define handlers, for when the DOM is ready:\n\t */\n\n\t/**\n\t * disable element utility\n\t *\n\t * @since 3.1.9\n\t *\n\t * @param {*} status\n\t * @returns {$|HTMLElement}\n\t */\n\t$.fn.disabled = function (status) {\n\t\t$(this).each(function () {\n\t\t\tlet self = $(this),\n\t\t\t\tprop = 'disabled';\n\n\t\t\tif (typeof self.prop(prop) !== 'undefined') {\n\t\t\t\tself.prop(prop, status === void 0 || status === true);\n\t\t\t} else {\n\t\t\t\t!0 === status ? self.addClass(prop) : self.removeClass(prop);\n\t\t\t}\n\t\t});\n\t\treturn self; // method chaining\n\t};\n\n\t/**\n\t * Check if a HTMLElement or jQuery is disabled\n\t */\n\t$.fn.isDisabled = function () {\n\t\tlet self = $(this),\n\t\t\tprop = 'disabled';\n\t\treturn typeof self.prop(prop) !== 'undefined' ? self.prop(prop) : self.hasClass(prop);\n\t};\n\n\t/**\n\t * Clear Tooltip for clip board js\n\t * @param {Object} event\n\t */\n\tconst clearTooltip = (event) => {\n\t\t$(event.currentTarget).removeClass((index, className) => (className.match(/\\btooltipped-\\S+/g) || []).join(' ')).removeClass('tooltipped').removeAttr('aria-label');\n\t};\n\n\tconst showTooltip = (elem, msg) => {\n\t\t$(elem).addClass('tooltipped tooltipped-s').attr('aria-label', msg);\n\t};\n\n\tconst fallbackMessage = (action) => {\n\t\tlet actionMsg,\n\t\t\tactionKey = action === 'cut' ? 'X' : 'C';\n\n\t\tif (/iPhone|iPad/i.test(navigator.userAgent)) {\n\t\t\tactionMsg = 'No support :(';\n\t\t} else if (/Mac/i.test(navigator.userAgent)) {\n\t\t\tactionMsg = 'Press ⌘-' + actionKey + ' to ' + action;\n\t\t} else {\n\t\t\tactionMsg = 'Press Ctrl-' + actionKey + ' to ' + action;\n\t\t}\n\n\t\treturn actionMsg;\n\t};\n\n\t/**\n\t * Alias of jQuery.extend()\n\t * @param {Object} _default\n\t * @param {Object} _args\n\t */\n\tconst extend = (_default, _args) => $.extend(true, {}, _default, _args);\n\n\t/*\n\t* Handles product attributes\n\t*\n\t* @since 4.4.18\n\t* */\n\tclass WooFeedCustomFields {\n\n\t\tconstructor(field, status, isTaxonomy) {\n\t\t\tthis.productCustomFields(field, status, isTaxonomy);\n\t\t}\n\n\t\tcacheClear() {\n\t\t\tlet data = {\n\t\t\t\taction: 'woo_feed_product_attribute_cache_remove',\n\t\t\t\tnonce: wpf_ajax_obj.ajax.nonce,\n\t\t\t};\n\t\t\t$.ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: wpf_ajax_obj.wpf_ajax_url,\n\t\t\t\tdata\n\t\t\t});\n\t\t}\n\n\t\tproductCustomFields(field, status = false, isTaxonomy) {\n\t\t\tlet data = {\n\t\t\t\taction: 'woo_feed_custom_fields_status_change',\n\t\t\t\tnonce: wpf_ajax_obj.ajax.nonce,\n\t\t\t\tfield,\n\t\t\t\tstatus,\n\t\t\t\tisTaxonomy\n\t\t\t};\n\t\t\t$.ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: wpf_ajax_obj.wpf_ajax_url,\n\t\t\t\tdata,\n\t\t\t\tsuccess: (response) => {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tthis.cacheClear();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t}\n\t\t\t\t\t$('#' + field + '-switcher').closest('td').find('.switch-loader').hide();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/*\n\t* Handles product categories\n\t*\n\t* @since 4.4.39\n\t* */\n\tclass WooFeedMapCategories {\n\t\twooFeed_get_google_categories() {\n\t\t\twpAjax.send('get_google_categories', {\n\t\t\t\ttype: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\taction: \"get_google_categories\",\n\t\t\t\t\t// provider: provider\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\t$('.selectize-google-category').selectize({\n\t\t\t\t\tvalueField: 'value',\n\t\t\t\t\tlabelField: 'text',\n\t\t\t\t\tplaceholder: 'Select a category',\n\t\t\t\t\tsearchField: ['value', 'text'],\n\t\t\t\t\toptions: response,\n\t\t\t\t\trender: {\n\t\t\t\t\t\toption: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.value + ' - ' + data.text)}</div>`,\n\t\t\t\t\t\titem: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.value + ' - ' + data.text)}</div>`\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//remove spinner element\n\t\t\t\t$('.woo-feed-cat-map-spinner').remove();\n\t\t\t}).fail(helper.ajax_fail);\n\t\t}\n\n\t\twooFeed_get_facebook_categories() {\n\t\t\t// get facebook categories\n\t\t\twpAjax.send('get_facebook_categories', {\n\t\t\t\ttype: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\taction: \"get_facebook_categories\",\n\t\t\t\t\t// provider: provider\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\t$('.selectize-google-category').selectize({\n\t\t\t\t\tvalueField: 'value',\n\t\t\t\t\tlabelField: 'text',\n\t\t\t\t\tplaceholder: 'Select a Facebook category',\n\t\t\t\t\tsearchField: ['value', 'text'],\n\t\t\t\t\toptions: response,\n\t\t\t\t\trender: {\n\t\t\t\t\t\toption: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.value + ' - ' + data.text)}</div>`,\n\t\t\t\t\t\titem: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.value + ' - ' + data.text)}</div>`\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//remove spinner element\n\t\t\t\t$('.woo-feed-cat-map-spinner').remove();\n\t\t\t}).fail(helper.ajax_fail);\n\t\t}\n\t}\n\n\tlet $copyBtn,\n\t\tclipboard,\n\t\tgoogleCategories,\n\t\tfacebookCategories,\n\t\thelper = {\n\t\t\tin_array: (needle, haystack) => {\n\t\t\t\ttry {\n\t\t\t\t\treturn haystack.indexOf(needle) !== -1;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectize_render_item: (data, escape) => `<div class=\"item wapk-selectize-item\">${escape(data.text)}</div>`, // phpcs:ignore WordPressVIPMinimum.JS.StringConcat.Found,\n\t\t\tajax_fail: e => {\n\t\t\t\tconsole.warn(e);\n\t\t\t\talert(e.hasOwnProperty('statusText') && e.hasOwnProperty('status') ? opts.ajax.error + '\\n' + e.statusText + ' (' + e.status + ')' : e);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Initialize Sortable\n\t\t\t * @param {$|HTMLElement} el\n\t\t\t * @param {object} config\n\t\t\t * @param {int|boolean} column\n\t\t\t * @param {function} onDrop\n\t\t\t * @return {$|HTMLElement}\n\t\t\t */\n\t\t\tsortable: (el, config, column, onDrop) => {\n\t\t\t\treturn (el || $('.sorted_table')).each(function () {\n\t\t\t\t\tlet self = $(this),\n\t\t\t\t\t\tcolumn_count = self.find('tbody > tr:eq(0) > td').length || column || 9;\n\t\t\t\t\tself.wf_sortable(extend({\n\t\t\t\t\t\tcontainerSelector: 'table',\n\t\t\t\t\t\titemPath: '> tbody',\n\t\t\t\t\t\titemSelector: 'tr',\n\t\t\t\t\t\thandle: 'i.wf_sortedtable',\n\t\t\t\t\t\tplaceholder: `<tr class=\"placeholder\"><td colspan=\"${column_count}\"></td></tr>`,\n\t\t\t\t\t\tonDrop: ($item, container, _super, event) => {\n\t\t\t\t\t\t\t$item.removeClass(container.group.options.draggedClass).removeAttr('style');\n\t\t\t\t\t\t\t$(\"body\").removeClass(container.group.options.bodyClass);\n\t\t\t\t\t\t\t// var numb = $item.find(\".wf_mattributes\").attr(\"name\").replace(/\\D/g, \"\");\n\t\t\t\t\t\t\t$item.find(\"input.wf_attributes\").attr(\"name\", \"default[\" + numb + \"]\");\n\t\t\t\t\t\t\tif (onDrop && 'function' === typeof (onDrop)) {\n\t\t\t\t\t\t\t\tonDrop($item, container, _super, event);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t}, config));\n\t\t\t\t});\n\t\t\t},\n\t\t\tselectize: (el, config) => {\n\t\t\t\treturn (el || $('select.selectize')).not('.selectized').not('.selectize-google-category').each(function () {\n\t\t\t\t\tlet self = $(this);\n\t\t\t\t\tself.selectize(extend({\n\t\t\t\t\t\tcreate: self.data('create') || false,\n\t\t\t\t\t\tplugins: self.data('plugins') ? self.data('plugins').split(',').map(function (s) {\n\t\t\t\t\t\t\treturn s.trim();\n\t\t\t\t\t\t}) : [],\n\t\t\t\t\t\t//['remove_button'],\n\t\t\t\t\t\trender: {\n\t\t\t\t\t\t\titem: helper.selectize_render_item\n\t\t\t\t\t\t}\n\t\t\t\t\t}, config));\n\t\t\t\t});\n\t\t\t},\n\t\t\tfancySelect: (el, config) => {\n\t\t\t\treturn (el || $('select.fancySelect')).not('.FancySelectInit').each(function () {\n\t\t\t\t\tlet self = $(this);\n\t\t\t\t\tself.fancySelect(extend({\n\t\t\t\t\t\tmaxItemShow: 3\n\t\t\t\t\t}, config));\n\t\t\t\t});\n\t\t\t},\n\t\t\treindex_config_table: () => {\n\t\t\t\t$('#table-1').find('tbody tr').each((x, el) => {\n\t\t\t\t\t$(el).find('[name]').each((x1, el) => {\n\t\t\t\t\t\t$(el).attr('name', $(el).attr('name').replace(/(\\[\\d\\])/g, `[${x}]`));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tcommon: () => {\n\t\t\t\thelper.sortable($('.sorted_table'), {}, 9, helper.reindex_config_table);\n\t\t\t\thelper.selectize();\n\t\t\t\thelper.fancySelect($('.outputType'));\n\n\t\t\t\t// Init fancy select after getting output_types from API in new UI.\n\t\t\t\twp.hooks.addAction('init_fancy_select', 'fancy_select', function () {\n\t\t\t\t\tlet data = helper.fancySelect($('.ctx-outputType'));\n\n\t\t\t\t\thelper.fancySelect($('.ctx-postStatus'));\n\n\t\t\t\t});\n\n\t\t\t\t// wp.hooks.addAction('test_select_add', 'test',  function (options) {\n\t\t\t\t// \tlet fancySelect = $('.my-select');\n\t\t\t\t// \t// fancySelect.fancySelect();\n\t\t\t\t// \t// fancySelect.append(options);\n\t\t\t\t// \t// fancySelect.trigger('update.fs');\n\t\t\t\t//\n\t\t\t\t// \tfancySelect.fancySelect({\n\t\t\t\t// \t\t\toptionTemplate: function(optionEl) {\n\t\t\t\t// \t\t\t\treturn optionEl.text() + '<div class=\"icon-' + optionEl.data('icon') + '\"></div>';\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t}\n\t\t\t\t// \t});\n\t\t\t\t//\n\t\t\t\t// });\n\n\t\t\t},\n\t\t\t/**\n\t\t\t * Set locale storage data for CTX Feed\n\t\t\t * @param dataName\n\t\t\t * @param data\n\t\t\t * @param shouldStringify\n\t\t\t * @param addToParent\n\t\t\t * @param parentName\n\t\t\t */\n\t\t\tsetLocalStorage: (dataName, data, shouldStringify = true, addToParent = true, parentName = 'ctxFeedData') => {\n\t\t\t\tif (shouldStringify) {\n\t\t\t\t\tdata = JSON.stringify(data);\n\t\t\t\t}\n\t\t\t\tif (addToParent) {\n\t\t\t\t\tlet prevData = window.localStorage.getItem(parentName);\n\t\t\t\t\tif (null !== prevData) {\n\t\t\t\t\t\tprevData = JSON.parse(window.localStorage.getItem(parentName));\n\t\t\t\t\t\tprevData[dataName] = data\n\t\t\t\t\t\twindow.localStorage.setItem(parentName, JSON.stringify(prevData));\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.localStorage.setItem(parentName, JSON.stringify({[dataName]: data}));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (shouldStringify) {\n\t\t\t\t\t\twindow.localStorage.setItem(dataName, JSON.stringify(data));\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.localStorage.setItem(dataName, data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * clear localstorage data.\n\t\t\t * @param dataName\n\t\t\t * @param innerChildren\n\t\t\t * @param hasParent\n\t\t\t * @param parentName\n\t\t\t * @returns {boolean}\n\t\t\t * //TODO: if innerChildren has length delete inner children through loop.\n\t\t\t */\n\n\t\t\tclearLocalStorage: (dataName, innerChildren = [], hasParent = true, parentName = 'ctxFeedData') => {\n\t\t\t\tlet tempData = null;\n\t\t\t\tlet hasDeleted = false;\n\t\t\t\t// if dataName is innerChild of parentName\n\t\t\t\tif (hasParent) {\n\t\t\t\t\ttempData = window.localStorage.getItem(parentName);\n\t\t\t\t\tif (!tempData) return hasDeleted;\n\n\t\t\t\t\ttempData = JSON.parse(tempData);\n\t\t\t\t\t// dataName is child of parentName.\n\t\t\t\t\tif (tempData.hasOwnProperty(dataName)) {\n\t\t\t\t\t\t// dataName's has innerChildren.\n\t\t\t\t\t\tif (innerChildren.length) {\n\t\t\t\t\t\t\tlet data = JSON.parse(tempData[dataName]);\n\t\t\t\t\t\t\tinnerChildren.map(child => {\n\t\t\t\t\t\t\t\tif (data.hasOwnProperty(child)) {\n\t\t\t\t\t\t\t\t\tdelete data[child]; // delete each innerChild\n\t\t\t\t\t\t\t\t\thasDeleted = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// update dataName with current data.\n\t\t\t\t\t\t\thelper.setLocalStorage(dataName, data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdelete tempData[dataName];\n\t\t\t\t\t\t\thasDeleted = true;\n\t\t\t\t\t\t\t// update dataName with current data.\n\t\t\t\t\t\t\thelper.setLocalStorage(dataName, null);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twindow.localStorage.removeItem(dataName);\n\t\t\t\t\thasDeleted = true;\n\t\t\t\t}\n\n\t\t\t\treturn hasDeleted;\n\t\t\t},\n\n\t\t},\n\t\t// helper functions\n\t\tfeedEditor = {\n\t\t\t/**\n\t\t\t * The Editor Form Elem.\n\t\t\t * @type {$|HTMLElement}\n\t\t\t */\n\t\t\tform: null,\n\n\t\t\t/**\n\t\t\t * Initialize The Feed Editor {Tabs...}\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tinit: function () {\n\t\t\t\tlet self = this;\n\t\t\t\tself.form = $('.generateFeed');\n\t\t\t\tif (!self.form.length) return;\n\t\t\t\thelper.common();\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t$(document).trigger('feed_editor_init');\n\t\t\t\t$(document).trigger(new jQuery.Event('feedEditor.init', {\n\t\t\t\t\ttarget: this.form\n\t\t\t\t}));\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Render Merchant info ajax response and handle allowed feed type for selected merchant\n\t\t\t * @param {$|HTMLElement} merchantInfo jQuery dom object\n\t\t\t * @param {$|HTMLElement} feedType     jQuery dom object\n\t\t\t * @param {Object} r            ajax response object\n\t\t\t */\n\t\t\trenderMerchantInfo: function (merchantInfo, feedType, r) {\n\t\t\t\tfor (let k in r) {\n\t\t\t\t\tif (r.hasOwnProperty(k)) {\n\t\t\t\t\t\tmerchantInfo.find('.merchant-info-section.' + k + ' .data').html(r[k]); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html\n\n\t\t\t\t\t\tif ('feed_file_type' === k) {\n\t\t\t\t\t\t\t(function () {\n\t\t\t\t\t\t\t\tlet types = r[k].split(\",\").map(function (t) {\n\t\t\t\t\t\t\t\t\treturn t.trim().toLowerCase();\n\t\t\t\t\t\t\t\t}).filter(function (t) {\n\t\t\t\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\t\t\t\treturn t !== '' && t !== opts.na.toLowerCase();\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (types.length) {\n\t\t\t\t\t\t\t\t\tfeedType.find('option').removeAttr('selected').each(function () {\n\t\t\t\t\t\t\t\t\t\tlet opt = $(this);\n\t\t\t\t\t\t\t\t\t\topt.val() && !helper.in_array(opt.val(), types) ? opt.disabled(!0) : opt.disabled(!1);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (types.length === 1) feedType.find('option[value=\"' + types[0] + '\"]').attr('selected', 'selected');\n\t\t\t\t\t\t\t\t} else feedType.find('option').disabled(!1);\n\t\t\t\t\t\t\t})();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tmerchantInfo.find('.spinner').removeClass('is-active');\n\t\t\t\tfeedType.disabled(!1);\n\t\t\t\tfeedType.trigger('change');\n\n\t\t\t\t/**\n\t\t\t\t * Triggers after merchant configuration is fetched & loaded\n\t\t\t\t * */\n\t\t\t\t$(document).trigger('woo_feed_config_loaded');\n\n\t\t\t\tfeedType.parent().find('.spinner').removeClass('is-active');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Render Feed Template Tabs and settings while creating new feed.\n\t\t\t * @param {$|HTMLElement} feedForm     feed from query dom object\n\t\t\t * @param {object} r            merchant template ajax response object\n\t\t\t */\n\t\t\trenderMerchantTemplate: function (feedForm, r) {\n\t\t\t\tlet _loop = function _loop(k) {\n\t\t\t\t\tif (r.hasOwnProperty(k)) {\n\t\t\t\t\t\tif ('tabs' === k) {\n\t\t\t\t\t\t\t// noinspection JSUnresolvedFunction\n\t\t\t\t\t\t\tfeedForm.html(r[k]); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet contentSettings = $('[name=\"' + k + '\"]');\n\n\t\t\t\t\t\t\tif (contentSettings.length) {\n\t\t\t\t\t\t\t\tcontentSettings.each(function () {\n\t\t\t\t\t\t\t\t\tlet elem = $(this);\n\n\t\t\t\t\t\t\t\t\tif (elem.is('select')) {\n\t\t\t\t\t\t\t\t\t\telem.find('[value=\"' + r[k] + '\"]').prop('selected', true);\n\t\t\t\t\t\t\t\t\t} else if ((elem.is('[type=checkbox]') || elem.is('[type=radio]')) && elem.val() === r[k]) {\n\t\t\t\t\t\t\t\t\t\telem.prop('checked', true);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\telem.val(r[k]); // type=text\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}).trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tfor (let k in r) {\n\t\t\t\t\t_loop(k);\n\t\t\t\t}\n\n\t\t\t\tfeedEditor.init();\n\t\t\t}\n\t\t},\n\t\t// Feed Editor Table\n\t\tmerchantInfoCache = [],\n\t\tmerchantTemplateCache = [],\n\t\ttooltip = () => {\n\t\t\t// Tooltip only Text\n\t\t\t$('.wfmasterTooltip')\n\t\t\t\t.hover(function () {\n\t\t\t\t\t// Hover over code\n\t\t\t\t\tlet self = $(this), title = self.attr('wftitle');\n\t\t\t\t\tself.data('tipText', title).removeAttr('wftitle');\n\t\t\t\t\t$('<p class=\"wftooltip\"></p>').text(title).appendTo('body').fadeIn('slow');\n\t\t\t\t}, function () {\n\t\t\t\t\t// Hover out code\n\t\t\t\t\tlet self = $(this);\n\t\t\t\t\tself.attr('wftitle', self.data('tipText'));\n\t\t\t\t\t$('.wftooltip').remove();\n\t\t\t\t})\n\t\t\t\t.mousemove(function (e) {\n\t\t\t\t\t$('.wftooltip').css({\n\t\t\t\t\t\ttop: e.pageY + 10,\n\t\t\t\t\t\tleft: e.pageX + 20\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tclip = () => {\n\t\t\t$copyBtn = $('.toClipboard');\n\t\t\tif (!ClipboardJS.isSupported() || /iPhone|iPad/i.test(navigator.userAgent)) {\n\t\t\t\t$copyBtn.find('img').hide(0);\n\t\t\t} else {\n\t\t\t\t$copyBtn.each(function () {\n\t\t\t\t\t$(this).on('mouseleave', clearTooltip).on('blur', clearTooltip);\n\t\t\t\t});\n\t\t\t\tclipboard = new ClipboardJS('.toClipboard');\n\t\t\t\tclipboard.on('error', function (event) {\n\t\t\t\t\tshowTooltip(event.trigger, fallbackMessage(event.action));\n\t\t\t\t}).on('success', function (event) {\n\t\t\t\t\tshowTooltip(event.trigger, 'Copied');\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t/**\n\t * Feed Generator Module\n\t */\n\tclass feedGenerator {\n\n\t\t/**\n\t\t * Constructor\n\t\t * @constructor\n\t\t */\n\t\tconstructor() {\n\t\t\tthis._feed = opts.generator.feed; // wf_config+xxxx\n\t\t\tthis._limit = opts.generator.limit;\n\t\t\tthis._progress = 0;\n\t\t\tthis._timer = null;\n\t\t\tthis._color = false;\n\t\t\t// batch info\n\t\t\tthis._total_batch = 0;\n\t\t\tthis._current_batch = 0;\n\t\t\tthis._product_ids = [];\n\t\t\tthis._progress_per_batch = 0;\n\t\t\tthis._refresh = true;\n\t\t\t// noinspection JSUnresolvedVariable\n\t\t\tthis._regenerate = opts.generator.regenerate;\n\t\t\twindow.isRegenerating = false;\n\t\t\tthis._all_btn = $('.wpf_regenerate');\n\t\t\tthis._current_btn = $(`#${this._feed.replace('wf_config', 'wf_feed_')}`);\n\t\t\tthis._current_btn_label = '';\n\t\t}\n\n\t\t/**\n\t\t * Init Hooks (Event)\n\t\t * @return {feedGenerator}\n\t\t */\n\t\tinit() {\n\t\t\tlet self = this;\n\t\t\tif ('' !== this._feed && this._regenerate && false === window.isRegenerating) {\n\t\t\t\tthis.generate();\n\t\t\t}\n\n\t\t\t//thickbox body add feed plugin class to make it unique and custom style\n\t\t\tlet current_page_query = window.location.search;\n\t\t\tlet params = new URLSearchParams(current_page_query);\n\t\t\tlet page_name = params.get(\"page\");\n\t\t\tif (\"webappick-manage-feeds\" === page_name) {\n\t\t\t\t$('body').addClass('woo-import-popup-body');\n\t\t\t}\n\n\t\t\t$(document).on('click', '.woo-feed-campaign-close-button', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t$(this).parent('.woo-feed-promotion').hide();\n\t\t\t\tlet condition = $(this).data('condition');\n\t\t\t\tif (1 === condition) {\n\t\t\t\t\twpAjax.post('woo_feed_hide_promotion', {\n\t\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\t\tcondition: condition,\n\t\t\t\t\t}).then(response => {\n\t\t\t\t\t\tself._log(response);\n\t\t\t\t\t}).fail(error => {\n\t\t\t\t\t\tself._log(error);\n\t\t\t\t\t\tself._updateProgressStatus(error.message);\n\t\t\t\t\t\tself._color = 'red';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$(document).on('click', '.wpf_regenerate', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tself._current_btn = $(this);\n\t\t\t\tif (self._current_btn.hasClass('disabled') || window.isRegenerating === true) return;\n\t\t\t\tself._feed = self._current_btn.attr('id').replace('wf_feed_', 'wf_config');\n\t\t\t\tif ('' !== self._feed) {\n\t\t\t\t\tself.generate();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\t_block_button() {\n\t\t\tif (this._all_btn.length) {\n\t\t\t\tthis._all_btn.addClass('disabled');\n\t\t\t}\n\t\t\tif (this._current_btn.length) {\n\t\t\t\tthis._current_btn.find('span').addClass('wpf_spin reverse_spin');\n\t\t\t\tthis._current_btn_label = this._current_btn.attr('title');\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tthis._current_btn.attr('aria-label', opts.regenerate).attr('title', opts.regenerate);\n\t\t\t}\n\t\t}\n\n\t\t_unblock_button() {\n\t\t\tif (this._all_btn.length) {\n\t\t\t\tthis._all_btn.removeClass('disabled');\n\t\t\t}\n\t\t\tif (this._current_btn.length) {\n\t\t\t\tthis._current_btn.find('span').removeClass('wpf_spin');\n\t\t\t\tthis._current_btn.find('span').removeClass('reverse_spin');\n\t\t\t\tthis._current_btn.attr('aria-label', this._current_btn_label).attr('title', this._current_btn_label);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Generate Feed\n\t\t * @return void\n\t\t */\n\t\tgenerate() {\n\t\t\tlet self = this;\n\t\t\twindow.isRegenerating = true;\n\t\t\tthis._block_button();\n\t\t\tthis._resetProgressBar();\n\t\t\tthis._progressBarActive();\n\t\t\tthis._log('Counting Total Products');\n\t\t\tthis._updateProgressStatus('Fetching products.');\n\t\t\tthis._get_product_ids().then(response => {\n\t\t\t\tthis._progress = 10;\n\t\t\t\tself._log({response});\n\t\t\t\tif (response.success) {\n\t\t\t\t\tself._log(`Total ${response.total} Products found.`);\n\t\t\t\t\tself._product_ids = response.product;\n\t\t\t\t\tself._total_batch = this._product_ids.length;\n\t\t\t\t\tself._current_batch = 0;\n\t\t\t\t\tself._progress_per_batch = (90 - this._progress) / this._total_batch;\n\t\t\t\t\tself._process_batch();\n\t\t\t\t\tself._updateProgressStatus('Processing Products...');\n\t\t\t\t} else {\n\t\t\t\t\tself._updateProgressStatus(response.data.message);\n\t\t\t\t}\n\t\t\t}).fail(error => {\n\t\t\t\tself._log(error);\n\t\t\t\tself._updateProgressStatus(error.message);\n\t\t\t\tself._color = 'red';\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself._stopProgressBar();\n\t\t\t\t\tself._unblock_button();\n\t\t\t\t}, 1500);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Get Product Ids\n\t\t * @returns {$.promise}\n\t\t * @private\n\t\t */\n\t\t_get_product_ids() {\n\t\t\tthis._progress = 5;\n\t\t\treturn wpAjax.post('get_product_information', {\n\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\tfeed: this._feed,\n\t\t\t\tlimit: this._limit,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Run the Batch\n\t\t * @private\n\t\t */\n\t\t_process_batch() {\n\t\t\tlet self = this;\n\t\t\tlet status = `Processing Batch ${this._current_batch + 1} of ${this._total_batch}`;\n\t\t\tthis._updateProgressStatus(status);\n\t\t\tthis._log(status);\n\t\t\twpAjax.post('make_batch_feed', {\n\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\tfeed: this._feed,\n\t\t\t\tproducts: this._product_ids[this._current_batch],\n\t\t\t\tloop: this._current_batch,\n\t\t\t}).then(response => {\n\t\t\t\tself._current_batch++;\n\t\t\t\tself._log(`Batch ${self._current_batch} Completed`);\n\t\t\t\tself._log(response);\n\t\t\t\tif (self._current_batch < self._total_batch) {\n\t\t\t\t\tself._process_batch();\n\t\t\t\t\tself._progress += self._progress_per_batch;\n\t\t\t\t}\n\t\t\t\tif (self._current_batch === self._total_batch) {\n\t\t\t\t\tself._save_feed_file();\n\t\t\t\t}\n\t\t\t}).fail(error => {\n\t\t\t\tself._log(error);\n\t\t\t\tself._updateProgressStatus(error.message);\n\t\t\t\tself._color = 'red';\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself._stopProgressBar();\n\t\t\t\t\tself._unblock_button();\n\t\t\t\t}, 1500);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Save Feed Data from temp to feed file\n\t\t * @private\n\t\t */\n\t\t_save_feed_file() {\n\t\t\tlet self = this;\n\t\t\tthis._log('Saving feed file');\n\t\t\tthis._updateProgressStatus('Saving feed file');\n\t\t\twpAjax.post('save_feed_file', {\n\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\tfeed: this._feed,\n\t\t\t}).then(response => {\n\t\t\t\tself._log(response);\n\t\t\t\tself._progress = 100;\n\t\t\t\tif (self._refresh) {\n\t\t\t\t\twindow.location.href = `${opts.pages.list.feed}&link=${response.url}&cat=${response.cat}`;\n\t\t\t\t}\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself._stopProgressBar();\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tself._resetProgressBar(true);\n\t\t\t\t\t\tself._unblock_button();\n\t\t\t\t\t}, 3000);\n\t\t\t\t}, 2500);\n\t\t\t}).fail(error => {\n\t\t\t\tself._log(error);\n\t\t\t\tself._updateProgressStatus(error.message);\n\t\t\t\tself._color = 'red';\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself._stopProgressBar();\n\t\t\t\t\tself._unblock_button();\n\t\t\t\t}, 1500);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Console log wrapper with debug settings.\n\t\t * @param data\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_log(data) {\n\t\t\t// noinspection JSUnresolvedVariable\n\t\t\tif (opts.wpf_debug) {\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Run the progressbar refresh interval\n\t\t * @param {int} refreshInterval\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_progressBarActive(refreshInterval = 0) {\n\t\t\tlet self = this;\n\t\t\tthis._toggleProgressBar(true);\n\t\t\tthis._timer = setInterval(function () {\n\t\t\t\tself._updateProgressBar();\n\t\t\t}, refreshInterval || 1000);\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Stop Progressbar\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_stopProgressBar() {\n\t\t\tclearInterval(this._timer);\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Reset Progressbar\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_resetProgressBar(update) {\n\t\t\tthis._toggleProgressBar(false);\n\t\t\tthis._updateProgressStatus('');\n\t\t\tclearInterval(this._timer);\n\t\t\tthis._color = false;\n\t\t\tthis._timer = null;\n\t\t\tthis._progress = 0;\n\t\t\tif (update) {\n\t\t\t\tthis._updateProgressBar();\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Show hide the progress bar el\n\t\t * @param status\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_toggleProgressBar(status) {\n\t\t\tlet table = $('#feed_progress_table');\n\t\t\tif (status) {\n\t\t\t\ttable.show();\n\t\t\t} else {\n\t\t\t\ttable.hide();\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Update Progress bar text status\n\t\t * @param {string} status\n\t\t * @returns {feedGenerator}\n\t\t * @private\n\t\t */\n\t\t_updateProgressStatus(status) {\n\t\t\t$('.feed-progress-status').html(status);\n\t\t\treturn this;\n\t\t}\n\n\t\t_getErrorMessageByCode(error) {\n\t\t\tlet progress_message = $('.feed-progress-status');\n\t\t\tprogress_message.css({'color': this._color});\n\t\t\t$('.feed-progress-percentage').css({'color': this._color});\n\t\t\t$('.wpf_spin').css({'color': this._color});\n\n\t\t\tlet message = error.status + ' : ' + error.statusText + '. ';\n\t\t\tif (500 === error.status) {\n\t\t\t\tmessage += \"Please increase your PHP max_execution_time. Please <a target='_blank' href='https://webappick.com/docs/woo-feed/faq-for-woocommerce-product-feed/how-to-solve-processing-10-feed-generation-stuck-error/'>read this doc</a>.\";\n\t\t\t}\n\n\t\t\tthis._updateProgressStatus(message);\n\n\t\t}\n\n\t\t/**\n\t\t * Update Progress Data\n\t\t * hooked with setInterval\n\t\t * @private\n\t\t */\n\t\t_updateProgressBar() {\n\t\t\tlet percentage = $('.feed-progress-percentage'),\n\t\t\t\tbar = $('.feed-progress-bar-fill'),\n\t\t\t\t_progress = `${Math.round(this._progress)}%`;\n\t\t\tbar.css({\n\t\t\t\twidth: _progress,\n\t\t\t});\n\t\t\tpercentage.text(_progress);\n\t\t}\n\t}\n\n\t// expose to the global scope\n\twindow.wf = {\n\t\thelper: helper,\n\t\tfeedEditor: feedEditor,\n\t\tgenerator: feedGenerator,\n\t};\n\n\t$(window).on('load', function () {\n\t\t// Template loading ui conflict\n\t\tif ($(location).attr(\"href\").match(/webappick.*feed/g) !== null) {\n\t\t\t$('#wpbody-content').addClass('woofeed-body-content');\n\t\t}\n\n\t\t// ClipBoardJS\n\t\tclip();\n\t\t// postbox toggle\n\t\tpostboxes.add_postbox_toggles(pagenow);\n\t\t// initialize generator\n\t\tlet generator = new feedGenerator();\n\t\tgenerator.init();\n\t\t// noinspection JSUnresolvedVariable\n\t\tif ('' !== opts.generator.feed && opts.generator.regenerate) {\n\n\t\t}\n\t\t// initialize editor\n\t\tfeedEditor.init();\n\t\thelper.common(); // Generate Feed Add Table Row\n\t\ttooltip();\n\t\t// validate feed editor\n\t\t$(\".generateFeed\").validate();\n\n\t\t// document events\n\t\t$(document)\n\t\t\t.on('blur', 'input[name=\"wfDAttributeName\"]', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet attr_name = $(this).val();\n\t\t\t\tattr_name = attr_name.toLowerCase();\n\t\t\t\tattr_name = attr_name.split(' ').join('_');\n\n\t\t\t\t$('#wfDAttributeCode').val(attr_name);\n\n\t\t\t})\n\t\t\t.on('click', '[data-toggle_slide]', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$($(this).data('toggle_slide')).slideToggle('fast');\n\t\t\t})\n\t\t\t// XML Feed Wrapper\n\t\t\t.on('click', '#wf_newRow', function () {\n\t\t\t\tlet tbody = $('#table-1 tbody'),\n\t\t\t\t\ttemplate = $('#feed_config_template').text().trim().replace(/__idx__/g, tbody.find('tr').length);\n\t\t\t\ttbody.append(template);\n\t\t\t\thelper.fancySelect($('.outputType'));\n\t\t\t\thelper.fancySelect($('.ctx-outputType'));\n\t\t\t})\n\t\t\t// feed delete alert.\n\t\t\t.on('click', '.single-feed-delete', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tif (confirm(opts.form.del_confirm)) {\n\t\t\t\t\twindow.location.href = $(this).attr('val');\n\t\t\t\t}\n\t\t\t})\n\t\t\t// clear cache data.\n\t\t\t.on('click', '.wf_clean_cache_wrapper', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tvar nonce = $('.woo-feed-clean-cache-nonce').val();\n\t\t\t\tvar loader = $('.woo-feed-cache-loader');\n\t\t\t\tvar types = [\"woo_feed_attributes\", \"woo_feed_category_mapping\", \"woo_feed_dynamic_attributes\", \"woo_feed_attribute_mapping\", \"woo_feed_wp_options\"];\n\n\t\t\t\t//show loader\n\t\t\t\tloader.show();\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\n\t\t\t\t\t// passed cache nonce\n\t\t\t\t\twpAjax.post('clear_cache_data', {\n\t\t\t\t\t\t_ajax_clean_nonce: nonce,\n\t\t\t\t\t\ttype: types[i]\n\t\t\t\t\t}).then(function (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t//hader notice dismiss action\n\t\t\t\t\t\t\twpAjax.post('pressmodo_dismiss_notice', {\n\t\t\t\t\t\t\t\t'id': types[i],\n\t\t\t\t\t\t\t\t'nonce': response.nonce\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tloader.hide(); //hide loader\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function () {\n\t\t\t\t\t\tconsole.log('something wrong');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t})// Copy Status\n\n\t\t\t.on('click', '.ctx-notice-cache-clear', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tvar nonce = $(this).data('id');\n\t\t\t\tconsole.log(nonce);\n\t\t\t\tvar notificationLoader = $('.loadingio-spinner-reload-5t7io14g51q');\n\n\t\t\t\tvar clickedId_type = $(this).attr('id');\n\t\t\t\t//show loader\n\t\t\t\tnotificationLoader.show();\n\t\t\t\tvar cache_types = [\"woo_feed_attributes\", \"woo_feed_category_mapping\", \"woo_feed_dynamic_attributes\", \"woo_feed_attribute_mapping\", \"woo_feed_wp_options\"];\n\n\n\t\t\t\thelper.clearLocalStorage('options', ['product_attributes']);\n\n\t\t\t\tfor (let i = 0; i < cache_types.length; i++) {\n\t\t\t\t\t// passed cache nonce\n\t\t\t\t\twpAjax.post('clear_cache_data', {\n\t\t\t\t\t\t_ajax_clean_nonce: nonce,\n\t\t\t\t\t\ttype: cache_types[i]\n\t\t\t\t\t}).then(function (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t//hader notice dismiss action\n\t\t\t\t\t\t\twpAjax.post('pressmodo_dismiss_notice', {\n\t\t\t\t\t\t\t\t// 'id': 'woo_feed_attributes',\n\t\t\t\t\t\t\t\t'id': cache_types[i],\n\t\t\t\t\t\t\t\t'nonce': response.nonce\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnotificationLoader.hide(); //hide loader\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function () {\n\t\t\t\t\t\tconsole.log('something wrong');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t})// Copy Status\n\n\n\t\t\t.on('click', '#woo-feed-copy-status-btn', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet button = $('#woo-feed-copy-status-btn');\n\t\t\t\tlet status_area = $('#woo-feed-status-area');\n\t\t\t\tbutton.val('Copied');\n\t\t\t\tstatus_area.css('visibility', 'visible');\n\t\t\t\tstatus_area.select();\n\n\t\t\t\tdocument.execCommand('copy');\n\t\t\t})\n\t\t\t// feed value dropdown change.\n\t\t\t.on('change', '.ctx-wf_attr.ctx-wf_attributes', function (event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// $('.fancy-picker-picked').trigger(\"click\"); // trigger fancy select box clicked\n\t\t\t\t// TODO need to match with new UI\n\t\t\t\t// price attributes\n\t\t\t\tvar price_attributes = ['price', 'current_price', 'sale_price', 'price_with_tax', 'current_price_with_tax', 'sale_price_with_tax', 'shipping_cost'];\n\t\t\t\t// current value\n\t\t\t\tvar current_attribute_value = $(this).val();\n\t\t\t\t// var outputSelect = $(this).parents('tr').find('.outputType');\n\t\t\t\tvar outputSelect = $(this).parents('tr').find('.ctx-outputType');\n\t\t\t\t// var fancyOption = $(this).parents('tr').find('.fancy-picker-content .fancy-picker-option');\n\t\t\t\tvar fancyOption = $(this).parents('tr').find('.fancy-picker-content');\n\n\t\t\t\tlet arr = [\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"0\">Select Attribute</div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option selected\" data-value=\"1\"> Default </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"2\"> Strip Tags </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"3\"> UTF-8 Encode </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"4\"> htmlentities </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"5\"> Integer </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"6\"> Price </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"7\"> Rounded Price </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"8\"> Remove Space </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"9\"> CDATA </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"10\"> Remove Special Character </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"11\"> Remove ShortCodes </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"12\"> ucwords </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"13\"> ucfirst </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"14\"> strtoupper </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"15\"> strtolower </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"16\"> urlToSecure </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"17\"> urlToUnsecure </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"18\"> only_parent </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"19\"> parent </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"20\"> parent_if_empty </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"21\">  </div>',\n\t\t\t\t\t'<div class=\"fancy-picker-option\" data-value=\"22\">  </div>'\n\t\t\t\t];\n\n\t\t\t\tarr.map(item => {\n\t\t\t\t\tfancyOption.append(item);\n\t\t\t\t});\n\n\n\t\t\t\tvar fancyDataPicker = $(this).parents('tr').find('.fancy-picker-data');\n\t\t\t\tvar selectIf, selectKey;\n\t\t\t\tvar currency;\n\n\t\t\t\t// when any attribute is selected, pick the key\n\t\t\t\tif (price_attributes.includes(current_attribute_value)) {\n\t\t\t\t\t// when select any price attribute\n\t\t\t\t\tselectIf = 'for_price';\n\t\t\t\t\tselectKey = \"Price\";\n\t\t\t\t} else if (\"\" !== current_attribute_value && -1 !== current_attribute_value.indexOf('wf_taxo')) {\n\n\t\t\t\t\t// when select any custom taxonomy\n\t\t\t\t\tselectIf = 'for_custom_taxo';\n\t\t\t\t\tselectKey = \"parent_if_empty\";\n\t\t\t\t} else {\n\n\t\t\t\t\tselectIf = 'for_all';\n\t\t\t\t\tselectKey = 'Default';\n\t\t\t\t}\n\n\t\t\t\t// remove selected class from old selected option\n\t\t\t\t$(fancyOption).find('.fancy-picker-option').removeClass('selected');\n\n\n\t\t\t\t// when value dropdown is selected as price or any custom taxonomy\n\t\t\t\tif (selectIf === 'for_custom_taxo' || selectIf === 'for_price') {\n\t\t\t\t\t// update \"Option Type\" when select key matches\n\t\t\t\t\t$(fancyOption).find('.fancy-picker-option').each(function () {\n\t\t\t\t\t\tif (selectKey === $(this).text().trim()) {\n\t\t\t\t\t\t\tfancyDataPicker.html(`<span>${selectKey}</span>`);\n\t\t\t\t\t\t\toutputSelect.find(\"option\").text(selectKey);\n\t\t\t\t\t\t\toutputSelect.find(\"option\").val($(this).data(\"value\"));\n\t\t\t\t\t\t\t$(this).addClass('selected');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (\"for_price\" === selectIf) {\n\t\t\t\t\t\tvar feedCurrency = $('#feedCurrency').val();\n\t\t\t\t\t\tif (\"undefined\" !== typeof feedCurrency && null !== feedCurrency) {\n\t\t\t\t\t\t\tcurrency = feedCurrency;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrency = wpf_ajax_obj.woocommerce.currency;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//for price add currency to the suffix\n\t\t\t\t\t\t$(this).closest(\"tr\").find(\"td:eq(5) input\").val(\" \" + currency);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfancyOption.each(function () {\n\t\t\t\t\t\tif (selectKey === $(this).text()) {\n\t\t\t\t\t\t\t$(this).addClass('selected');\n\t\t\t\t\t\t\tfancyDataPicker.text(selectKey);\n\t\t\t\t\t\t\toutputSelect.find(\"option\").text(selectKey);\n\t\t\t\t\t\t\toutputSelect.find(\"option\").val($(this).data(\"value\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$(this).closest(\"tr\").find(\"td:eq(5) input\").val(\"\");\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t// bulk delete alert.\n\t\t\t.on('click', '#doaction, #doaction2', function () {\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\treturn confirm(opts.form.del_confirm_multi);\n\t\t\t})\n\t\t\t// Generate Feed Table Row Delete\n\t\t\t.on('change', '.dType', function () {\n\t\t\t\tlet self = $(this),\n\t\t\t\t\ttype = self.val(),\n\t\t\t\t\trow = self.closest('tr');\n\n\t\t\t\tif (type === 'pattern') {\n\t\t\t\t\trow.find('.value_attribute').hide();\n\t\t\t\t\trow.find('.value_pattern').show();\n\t\t\t\t} else if (type === 'attribute') {\n\t\t\t\t\trow.find('.value_attribute').show();\n\t\t\t\t\trow.find('.value_pattern').hide();\n\t\t\t\t} else if (type === 'remove') {\n\t\t\t\t\trow.find('.value_attribute').hide();\n\t\t\t\t\trow.find('.value_pattern').hide();\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Generate Feed Form Submit\n\t\t\t.on('click', '.delRow', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$(this).closest('tr').remove();\n\t\t\t\thelper.reindex_config_table();\n\t\t\t})\n\t\t\t.on('submit', '#generateFeed', function () {\n\t\t\t\t// Feed Generating form validation\n\t\t\t\t$(this).validate();\n\n\t\t\t\tif ($(this).valid()) {\n\t\t\t\t\t$(\".makeFeedResponse\")\n\t\t\t\t\t\t.show()\n\t\t\t\t\t\t.html(`<b style=\"color: darkblue;\"><i class=\"dashicons dashicons-sos wpf_spin\"></i> ${opts.form.generate}</b>`); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html, WordPressVIPMinimum.JS.StringConcat.Found\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Generate Update Feed Form Submit\n\t\t\t.on('submit', '#updatefeed', function (e, data) {\n\t\t\t\t// Feed Generating form validation\n\t\t\t\t$(this).validate();\n\n\t\t\t\tif ($(this).valid()) {\n\t\t\t\t\t$(\".makeFeedResponse\")\n\t\t\t\t\t\t.show()\n\t\t\t\t\t\t.html(`<b style=\"color: darkblue;\"><i class=\"dashicons dashicons-sos wpf_spin\"></i> ${data && data.save ? opts.form.save : opts.form.generate}</b>`); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html, WordPressVIPMinimum.JS.StringConcat.Found\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('ready woo_feed_config_loaded', function () {\n\n\t\t\t\tif ($('#ftpenabled').val() === '0') {\n\t\t\t\t\t$('.google-merchant-message').hide('slow');\n\t\t\t\t\t$('.woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) input, .woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) select').attr('disabled', 'disabled');\n\t\t\t\t} else {\n\t\t\t\t\tif ($('#provider').val() === 'google') {\n\t\t\t\t\t\t$('.google-merchant-message').show('slow');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.google-merchant-message').hide('slow');\n\t\t\t\t\t}\n\t\t\t\t\t$('.woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) input, .woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) select').removeAttr('disabled');\n\t\t\t\t}\n\n\t\t\t\t$('#ftpenabled').on('change', function () {\n\t\t\t\t\tif ($('#ftpenabled').val() === '0') {\n\t\t\t\t\t\t$('.google-merchant-message').hide('slow');\n\t\t\t\t\t\t$('.woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) input, .woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) select').attr('disabled', 'disabled');\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t$('.woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) input, .woo-feed-ftp .ftpconfig tr:not(.ftpcontroller) select').removeAttr('disabled');\n\n\t\t\t\t\t\t// Google merchant specific message\n\t\t\t\t\t\tif ($('#provider').val() === 'google') {\n\t\t\t\t\t\t\t$('.google-merchant-message').show('slow');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('.google-merchant-message').hide('slow');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.on('change', '.ftporsftp', function () {\n\t\t\t\tlet server = $(this).val(),\n\t\t\t\t\tstatus = $('.ssh2_status');\n\n\t\t\t\tif (server === 'sftp') {\n\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\tstatus.show().css('color', 'dodgerblue').text(opts.form.sftp_checking);\n\t\t\t\t\twpAjax.post('get_ssh2_status', {\n\t\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\t\tserver: server\n\t\t\t\t\t}).then(function (response) {\n\t\t\t\t\t\tif (response === 'exists') {\n\t\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\t\tstatus.css('color', '#2CC185').text(opts.form.sftp_available);\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tstatus.hide();\n\t\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\t\tstatus.show().css('color', 'red').text(opts.form.sftp_warning);\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function (e) {\n\t\t\t\t\t\tstatus.hide();\n\t\t\t\t\t\thelper.ajax_fail(e);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tstatus.hide();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('click', '[name=\"save_feed_config\"]', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$('#updatefeed').trigger('submit', {\n\t\t\t\t\tsave: true\n\t\t\t\t});\n\t\t\t})\n\t\t\t// .on('change', '#provider', function (event) {\n\t\t\t//     event.preventDefault();\n\t\t\t//\n\t\t\t//     let merchant = $(this).val(),\n\t\t\t//         templateName = $(this).find(':selected').text(),\n\t\t\t//         name = $('#filename').val(),\n\t\t\t//         feedType = $(\"#feedType\"),\n\t\t\t//         feedForm = $(\"#providerPage\"),\n\t\t\t//         merchantInfo = $('#feed_merchant_info'); // set loading..\n\t\t\t//\n\t\t\t//     // noinspection JSUnresolvedVariable\n\t\t\t//     feedForm.html('<h3><span style=\"float:none;margin: -3px 0 0;\" class=\"spinner is-active\"></span> ' + opts.form.loading_tmpl + '</h3>'); // phpcs:ignore WordPressVIPMinimum.JS.HTMLExecutingFunctions.html, WordPressVIPMinimum.JS.StringConcat.Found\n\t\t\t//\n\t\t\t//     merchantInfo.find('.spinner').addClass('is-active');\n\t\t\t//     feedType.disabled(!0); // disable dropdown\n\t\t\t//\n\t\t\t//     feedType.parent().find('.spinner').addClass('is-active');\n\t\t\t//     merchantInfo.find('.merchant-info-section .data').html(''); // remove previous data\n\t\t\t//\n\t\t\t//\n\t\t\t// \t//:Merchant info now from rest API.\n\t\t\t//\n\t\t\t//     // Get Merchant info for selected Provider/Merchant\n\t\t\t//     if (merchantInfoCache.hasOwnProperty(merchant)) {\n\t\t\t//         feedEditor.renderMerchantInfo(merchantInfo, feedType, merchantInfoCache[merchant]);\n\t\t\t//\n\t\t\t//         /**\n\t\t\t//          * Triggers after merchant configuration is fetched & loaded\n\t\t\t//          * */\n\t\t\t//         $(document).trigger('woo_feed_config_loaded');\n\t\t\t//\n\t\t\t//     } else {\n\t\t\t//         wpAjax.send('woo_feed_get_merchant_info', {\n\t\t\t//             type: 'GET',\n\t\t\t//             data: {\n\t\t\t//                 nonce: opts.nonce,\n\t\t\t//                 provider: merchant,\n\t\t\t//                 templateName: templateName\n\t\t\t//             }\n\t\t\t//         }).then(function (r) {\n\t\t\t//             merchantInfoCache[merchant] = r;\n\t\t\t//             feedEditor.renderMerchantInfo(merchantInfo, feedType, r);\n\t\t\t//         }).then(function(){\n\t\t\t//\n\t\t\t//             /**\n\t\t\t//              * Triggers after merchant configuration is fetched & loaded\n\t\t\t//              * */\n\t\t\t//             $(document).trigger('woo_feed_config_loaded');\n\t\t\t//\n\t\t\t//         }).fail(helper.ajax_fail);\n\t\t\t//     } // Get FeedForm For Selected Provider/Merchant\n\t\t\t//\n\t\t\t// \t// Merchant info now from rest API.\n\t\t\t//     if (merchantTemplateCache.hasOwnProperty(merchant)) {\n\t\t\t//         feedEditor.renderMerchantTemplate(feedForm, merchantTemplateCache[merchant]);\n\t\t\t//\n\t\t\t//         /**\n\t\t\t//          * Triggers after merchant configuration is fetched & loaded\n\t\t\t//          * */\n\t\t\t//         $(document).trigger('woo_feed_config_loaded');\n\t\t\t//\n\t\t\t//     } else {\n\t\t\t//         wpAjax.post('get_feed_merchant', {\n\t\t\t//             _ajax_nonce: opts.nonce,\n\t\t\t//             merchant: merchant\n\t\t\t//         }).then(function (r) {\n\t\t\t//             merchantTemplateCache[merchant] = r;\n\t\t\t//             feedEditor.renderMerchantTemplate(feedForm, r);\n\t\t\t//             $('#utm_source').val(templateName);\n\t\t\t//             $('#utm_campaign').val(name);\n\t\t\t//             //when merchant is bing, change delimiter and enclosure\n\t\t\t//             if( 'bing' === merchant ) {\n\t\t\t//                 //delimiter value\n\t\t\t//                 $(\"#delimiter option\").removeAttr('selected');\n\t\t\t//                 $(\"#delimiter option[value=\\\"tab\\\"]\").attr('selected', 'selected');\n\t\t\t//\n\t\t\t//                 //enclosure value\n\t\t\t//                 $(\"#enclosure option\").removeAttr('selected');\n\t\t\t//                 $(\"#enclosure option[value=\\\" \\\"]\").attr('selected', 'selected');\n\t\t\t//             }\n\t\t\t//\n\t\t\t//             //reviewer options hide\n\t\t\t//             if( 'google_product_review' !== merchant) {\n\t\t\t//                 $('.wf_attributes option[value=\"reviewer_name\"]').hide();\n\t\t\t//             }\n\t\t\t//         }).then(function(){\n\t\t\t//\n\t\t\t//             /**\n\t\t\t//              * Triggers after merchant configuration is fetched & loaded\n\t\t\t//              * */\n\t\t\t//             $(document).trigger('woo_feed_config_loaded');\n\t\t\t//\n\t\t\t//         }).fail(helper.ajax_fail);\n\t\t\t//     }\n\t\t\t// })\n\t\t\t// Feed Active and Inactive status change via ajax\n\t\t\t.on('change', '.woo_feed_status_input', function () {\n\t\t\t\tlet self = $(this);\n\t\t\t\twpAjax.post('update_feed_status', {\n\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\tfeedName: self.val(),\n\t\t\t\t\tstatus: self[0].checked ? 1 : 0\n\t\t\t\t});\n\t\t\t});\n\t\t// event with trigger\n\t\t$(document)\n\t\t\t.on('change', '[name=\"is_outOfStock\"], [name=\"product_visibility\"]', function () {\n\t\t\t\tlet outOfStockVisibilityRow = $('.out-of-stock-visibility');\n\t\t\t\tif ($('[name=\"is_outOfStock\"]:checked').val() === 'n' && $('[name=\"product_visibility\"]:checked').val() === '1') {\n\t\t\t\t\toutOfStockVisibilityRow.show();\n\t\t\t\t} else {\n\t\t\t\t\toutOfStockVisibilityRow.hide();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('change', '.attr_type', function () {\n\t\t\t\t// Attribute type selection\n\t\t\t\tlet self = $(this),\n\t\t\t\t\ttype = self.val(),\n\t\t\t\t\trow = self.closest('tr');\n\n\t\t\t\tif (type === 'pattern') {\n\t\t\t\t\trow.find('.wf_attr').hide();\n\t\t\t\t\trow.find('.wf_attr').val('');\n\t\t\t\t\trow.find('.wf_default').show();\n\t\t\t\t} else {\n\t\t\t\t\trow.find('.wf_attr').show();\n\t\t\t\t\trow.find('.wf_default').hide();\n\t\t\t\t\trow.find('.wf_default').val('');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('change', '.wf_mattributes, .attr_type', function () {\n\t\t\t\tlet row = $(this).closest('tr'),\n\t\t\t\t\tattribute = row.find('.wf_mattributes'),\n\t\t\t\t\ttype = row.find('.attr_type'),\n\t\t\t\t\tvalueColumn = row.find('td:eq(4)'),\n\t\t\t\t\tprovider = $('#provider').val();\n\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tif (opts.form.google_category.hasOwnProperty(attribute.val()) && type.val() === 'pattern' && helper.in_array(provider, opts.form.google_category[attribute.val()])) {\n\t\t\t\t\tif (valueColumn.find('select.selectize').length === 0) {\n\t\t\t\t\t\tvalueColumn.find('input.wf_default').remove();\n\t\t\t\t\t\tvalueColumn.append('<span class=\"wf_default wf_attributes\"><select name=\"default[]\" class=\"selectize\"></select></span>');\n\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\tvalueColumn.append(`<span style=\"font-size:x-small;\"><a style=\"color: red\" href=\"https://webappick.com/docs/woo-feed/feed-configuration/how-to-map-store-category-with-merchant-category/\" target=\"_blank\">${opts.learn_more}</a></span>`);\n\n\t\t\t\t\t\tif (!googleCategories || !facebookCategories) {\n\t\t\t\t\t\t\tvalueColumn.append('<span class=\"spinner is-active\" style=\"margin: 0;\"></span>');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet select = valueColumn.find('.wf_attributes select');\n\t\t\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\t\t\thelper.selectize(select, {\n\t\t\t\t\t\t\tpreload: true,\n\t\t\t\t\t\t\tplaceholder: opts.form.select_category,\n\t\t\t\t\t\t\tload: function load(query, cb) {\n\t\t\t\t\t\t\t\tif (!googleCategories) {\n\t\t\t\t\t\t\t\t\twpAjax.send('get_google_categories', {\n\t\t\t\t\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\t\t\t\t\t\t\taction: \"get_google_categories\",\n\t\t\t\t\t\t\t\t\t\t\tprovider: provider\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}).then(function (r) {\n\t\t\t\t\t\t\t\t\t\tgoogleCategories = r;\n\t\t\t\t\t\t\t\t\t\tcb(googleCategories);\n\t\t\t\t\t\t\t\t\t\tvalueColumn.find('.spinner').remove();\n\t\t\t\t\t\t\t\t\t}).fail(helper.ajax_fail);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcb(googleCategories);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t//for facebook product category merchant attribute\n\t\t\t\t\t\t\t\tif (!facebookCategories && \"facebook\" === provider && \"fb_product_category\" === attribute.val()) {\n\t\t\t\t\t\t\t\t\twpAjax.send('get_facebook_categories', {\n\t\t\t\t\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t_ajax_nonce: opts.nonce,\n\t\t\t\t\t\t\t\t\t\t\taction: \"get_facebook_categories\",\n\t\t\t\t\t\t\t\t\t\t\tprovider: provider\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}).then(function (r) {\n\t\t\t\t\t\t\t\t\t\tfacebookCategories = r;\n\t\t\t\t\t\t\t\t\t\tcb(facebookCategories);\n\t\t\t\t\t\t\t\t\t\tvalueColumn.find('.spinner').remove();\n\t\t\t\t\t\t\t\t\t}).fail(helper.ajax_fail);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcb(facebookCategories);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (attribute.val() !== 'current_category' && valueColumn.find('input.wf_default').length === 0) {\n\t\t\t\t\t\tvalueColumn.find('span').remove();\n\t\t\t\t\t\tvalueColumn.append('<input autocomplete=\"off\" class=\"wf_default wf_attributes\"  type=\"text\" name=\"default[]\" value=\"\">');\n\n\t\t\t\t\t\tif (type.val() !== 'pattern') {\n\t\t\t\t\t\t\tvalueColumn.find('input.wf_default').hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('change', '#feedType,#provider', function (e) {\n\t\t\t\tlet type = $('#feedType').val(),\n\t\t\t\t\tprovider = $('#provider').val(),\n\t\t\t\t\titemWrapper = $('.itemWrapper'),\n\t\t\t\t\twf_csv_txt = $('.wf_csvtxt');\n\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tif (type !== '' && helper.in_array(provider, opts.form.item_wrapper_hidden)) {\n\t\t\t\t\titemWrapper.hide();\n\t\t\t\t}\n\t\t\t\t// TODO check with new UI\n\t\t\t\t//when feed type is changed\n\t\t\t\tif ('feedType' === e.target.id) {\n\t\t\t\t\tif (type === 'csv' || type === 'txt' || type === 'tsv') {\n\t\t\t\t\t\twf_csv_txt.show();\n\t\t\t\t\t\titemWrapper.hide();\n\n\t\t\t\t\t\tif ('tsv' === type) {\n\t\t\t\t\t\t\t$('#delimiter option:last').prop(\"selected\", \"selected\");\n\t\t\t\t\t\t} else if ('csv' === type) {\n\t\t\t\t\t\t\t$('#delimiter option:first').prop(\"selected\", \"selected\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ('xml' === type && \"custom\" === provider) {\n\t\t\t\t\t\titemWrapper.show();\n\t\t\t\t\t\twf_csv_txt.hide();\n\t\t\t\t\t} else if ('json' === type) {\n\t\t\t\t\t\twf_csv_txt.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// when template is not custom template 1 hide the item wrapper\n\t\t\t\tif (\"custom\" !== provider) {\n\t\t\t\t\titemWrapper.hide();\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.trigger('change');\n\n\n\t\t$(document)\n\t\t\t.on('click', '.woofeed-custom-fields [id*=\"-switcher\"]', function () {\n\t\t\t\t$(this).closest('td').find('.switch-loader').show();\n\t\t\t\tlet field = $(this).attr('id').split('-')[0],\n\t\t\t\t\tisTaxonomy = $(this).data('taxonomy'),\n\t\t\t\t\tstatus = $(this).prop('checked');\n\t\t\t\tnew WooFeedCustomFields(field, status, isTaxonomy);\n\n\t\t\t})\n\n\t\t\t// Remove sticky cart on feature page\n\t\t\t.ready(function () {\n\t\t\t\tvar s = $(\".wapk-feed-buy-now-container\");\n\t\t\t\t$(window).scroll(function () {\n\t\t\t\t\tvar windowpos = $(window).scrollTop();\n\t\t\t\t\tif (windowpos <= 5000) {\n\t\t\t\t\t\ts.addClass(\"fixed\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\ts.removeClass(\"fixed\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\t$(document)\n\t\t.on('click', '#woo-feed-debug-log-download', function (e) {\n\t\t\te.preventDefault();\n\t\t\t$(\"<a />\", {\n\t\t\t\tdownload: new Date() + \".log\",\n\t\t\t\thref: URL.createObjectURL(\n\t\t\t\t\tnew Blob([$(\"#woo-feed-debug-log\").val()], {\n\t\t\t\t\t\ttype: \"text/plain\"\n\t\t\t\t\t})),\n\t\t\t}).appendTo(\"body\")[0].click();\n\t\t})\n\t\t// TODO working on new UI\n\t\t.on('keyup', '#filename', function () {\n\t\t\tvar name = $('#filename').val();\n\t\t\t$('#utm_campaign').val(name);\n\t\t})\n\n\t\t.on('click', '.wf-tab-name', function (e) {\n\t\t\t$('.wf-tab-name.activate').removeClass('activate');\n\t\t\t$(this).addClass('activate');\n\n\t\t\tlet for_attr = $(this).attr('for');\n\t\t\t$('.wf_tabs li.active').removeClass('active');\n\t\t\t$('.wf_tabs .wf-tab-content#' + for_attr).parent().addClass('active');\n\t\t})\n\n\t\t.on('change', '#category-mapping-form #providers', function () {\n\t\t\tvar provider = $(this).find(':selected').val(),\n\t\t\t\tgoogleMap = ['google', 'facebook', 'pinterest', 'bing', 'bing_local_inventory', 'snapchat', 'tiktok'];\n\n\t\t\t//add snipper element\n\t\t\t$('.woo-feed-category-mapping-config-table').prepend('<div class=\"woo-feed-cat-map-spinner\"><h3><span style=\"float:none;margin: -3px 0 0;\" class=\"spinner is-active\"></span> Loading Mapping...</h3></div>');\n\n\t\t\tif (googleMap.indexOf(provider) !== -1) {\n\t\t\t\t$('input[id*=\"cat_mapping_\"]').css('display', 'none');\n\t\t\t\t$('.wf_default.wf_attributes').css('display', 'block').css('width', '100%');\n\t\t\t\tvar cat_init = new WooFeedMapCategories();\n\t\t\t\tif (\"facebook\" === provider) {\n\t\t\t\t\tcat_init.wooFeed_get_facebook_categories();\n\t\t\t\t} else {\n\t\t\t\t\tcat_init.wooFeed_get_google_categories();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('input[id*=\"cat_mapping_\"]').css('display', 'block');\n\t\t\t\t$('.wf_default.wf_attributes').css('display', 'none').css('width', '100%');\n\t\t\t\t$('.woo-feed-category-mapping-config-table .woo-feed-cat-map-spinner').css('display', 'none');\n\t\t\t}\n\t\t})\n\n\t\t// Copy parent category ids to child categories.\n\t\t.on('click', 'span[id*=\"cat-map-\"]', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar providerName = $('#category-mapping-form #providers').val(),\n\t\t\t\tgoogleMap = ['google', 'facebook', 'pinterest', 'bing', 'bing_local_inventory', 'snapchat', 'tiktok'],\n\t\t\t\tcatId = $(this).attr('id').replace(/[^\\d.]/g, ''),\n\t\t\t\tgroupId = 'group-child-' + catId;\n\n\t\t\tif (googleMap.indexOf(providerName) !== -1) {\n\t\t\t\tvar catField = $(this).parents('tr').find('.selectized').val();\n\n\t\t\t\tif (catField) {\n\t\t\t\t\t$('.' + groupId).parents('tr').find('select').each(function (i, v) {\n\t\t\t\t\t\t$(v).data('selectize').setValue(catField);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tvar value = $('#cat_mapping_' + catId).val();\n\t\t\t\t$('.' + groupId).parents('tr').find('input').val(value);\n\t\t\t}\n\n\t\t});\n\n\t$(document).ready(function () {\n\t\tvar provider = $(\"#providers\").val(),\n\t\t\tcat_init = new WooFeedMapCategories(),\n\t\t\turl = new URL(window.location.href),\n\t\t\tcat_mapping_action = url.searchParams.get(\"action\");\n\n\t\tif (\"edit-mapping\" === cat_mapping_action) {\n\t\t\t$('.woo-feed-category-mapping-config-table').prepend('<div class=\"woo-feed-cat-map-spinner\"><h3><span style=\"float:none;margin: -3px 0 0;\" class=\"spinner is-active\"></span> Loading Mapping...</h3></div>');\n\n\t\t\tif (\"facebook\" === provider) {\n\t\t\t\tcat_init.wooFeed_get_facebook_categories();\n\t\t\t} else {\n\t\t\t\tcat_init.wooFeed_get_google_categories();\n\t\t\t}\n\n\t\t}\n\t});\n\n\t/*\n\t* Issue fix for feed edit page unsupported `Feed Type` not disabling\n\t* // TODO need to move react\n\t* @since 4.4.22\n\t* */\n\t$(document).on(\"feed_editor_init\", function () {\n\n\t\tlet types = $('.merchant-info-section.feed_file_type .data').html().split(\",\").map(function (t) {\n\t\t\treturn t.trim().toLowerCase();\n\t\t});\n\n\t\tlet feedType = $(\"#feedType\");\n\n\t\tif (types.length) {\n\t\t\tfeedType.find('option').each(function () {\n\t\t\t\tlet opt = $(this);\n\t\t\t\topt.val() && !helper.in_array(opt.val(), types) ? opt.disabled(!0) : opt.disabled(!1);\n\t\t\t});\n\t\t\tif (types.length === 1) feedType.find('option[value=\"' + types[0] + '\"]').attr('selected', 'selected');\n\t\t} else feedType.find('option').disabled(!1);\n\n\t});\n\n\t/**\n\t * Automatically adding postfix for corresponding attribute selection.\n\t * // TODO nee to match with new UI\n\t * @since 4.4.32\n\t */\n\t$(document).on('ready', function () {\n\n\t\tfunction update_postfix() {\n\t\t\tvar attribute_list = {\n\t\t\t\t'price': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'current_price': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'sale_price': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'price_with_tax': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'current_price_with_tax': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'sale_price_with_tax': wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t'weight': wpf_ajax_obj.woocommerce.weight,\n\t\t\t\t'weight_unit': wpf_ajax_obj.woocommerce.weight,\n\t\t\t\t'height': wpf_ajax_obj.woocommerce.dimension,\n\t\t\t\t'length': wpf_ajax_obj.woocommerce.dimension,\n\t\t\t\t'width': wpf_ajax_obj.woocommerce.dimension\n\t\t\t};\n\n\t\t\tif (typeof wpf_ajax_obj.feed_rules !== 'undefined' && wpf_ajax_obj.feed_rules !== null) {\n\t\t\t\tvar feed_rules = wpf_ajax_obj.feed_rules;\n\t\t\t\tvar current_feed_currency = feed_rules.feedCurrency;\n\t\t\t}\n\n\t\t\t//get current action name of the page\n\t\t\tvar queryString = window.location.search;\n\t\t\tvar urlParams = new URLSearchParams(queryString);\n\t\t\tvar action = urlParams.get('action');\n\n\t\t\t$('.wf_attr.wf_attributes').each(function (key, value) {\n\n\t\t\t\tvar attribute_value = $(value).val();\n\t\t\t\tvar current_Value = $('input[name^=\"suffix\"]').eq(parseInt(key)).val();\n\n\t\t\t\tif (-1 !== $.inArray(current_Value, [\n\t\t\t\t\t' ' + wpf_ajax_obj.woocommerce.currency,\n\t\t\t\t\t' ' + wpf_ajax_obj.woocommerce.weight,\n\t\t\t\t\t' ' + wpf_ajax_obj.woocommerce.dimension\n\t\t\t\t])) {\n\t\t\t\t\t$('input[name^=\"suffix\"]').eq(parseInt(key)).val('');\n\t\t\t\t}\n\n\t\t\t\t$.each(attribute_list, function (_key, _value) {\n\t\t\t\t\tif (attribute_value === _key) {\n\t\t\t\t\t\t_value = null !== current_feed_currency && \"undefined\" !== typeof current_feed_currency ? current_feed_currency : _value;\n\n\t\t\t\t\t\tif (\"undefined\" !== action && \"edit-feed\" !== action) {\n\t\t\t\t\t\t\t$('input[name^=\"suffix\"]').eq(parseInt(key)).val(' ' + _value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('input[name^=\"suffix\"]').eq(parseInt(key)).val(current_Value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$(document).trigger('feedEditor.after.free.postfix.update');\n\t\t}\n\n\t\t$(document).on('feedEditor.init', function () {\n\t\t\tlet provider = $(this).find(':selected').val(),\n\t\t\t\tgoogleMap = ['google', 'facebook', 'pinterest', 'bing', 'bing_local_inventory', 'snapchat', 'tiktok'];\n\n\t\t\tif (googleMap.indexOf(provider) !== -1) {\n\t\t\t\tupdate_postfix();\n\t\t\t}\n\t\t});\n\n\t\t// If file extension is not .wpf then don't select the file.\n\t\t$('#wpf_import_file').on('change', function (e) {\n\t\t\tlet fakePath = e.target.value;\n\t\t\tlet importFileExtension = fakePath.split(\"\\\\\").pop();\n\t\t\timportFileExtension = importFileExtension.split('.').pop();\n\t\t\tif ('wpf' !== importFileExtension) {\n\t\t\t\te.target.value = '';\n\t\t\t\talert('Please select a .wpf extension file');\n\t\t\t}\n\t\t});\n\n\n\t\t// Init codemirror if template is special template.\n\t\twp.hooks.addAction('init_codemirror', 'codemirror', function () {\n\t\t\tlet el = document.getElementById('editor_react');\n\t\t\tif (el) {\n\t\t\t\tconst editor = CodeMirror.fromTextArea(el, {\n\t\t\t\t\tlineNumbers: true,\n\t\t\t\t\tmode: \"xml\",\n\t\t\t\t\tmatchBrackets: true\n\t\t\t\t});\n\t\t\t\teditor.setSize(null, 620);\n\t\t\t\teditor.on('change', function (cm, cObj) {\n\t\t\t\t\twindow.localStorage.setItem('ctx_codemirror', cm.getValue());\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t});\n\n})(jQuery, window, document, wp.ajax, wpf_ajax_obj);\n"]}